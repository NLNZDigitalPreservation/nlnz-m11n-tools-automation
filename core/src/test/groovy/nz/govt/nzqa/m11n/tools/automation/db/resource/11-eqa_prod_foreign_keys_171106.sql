USE eqa_prod
go
ALTER TABLE dbo.ACADEMIC_YEAR
    ADD CONSTRAINT FK_ACA_YEAR_ACA_YEAR_TYPE
    FOREIGN KEY (academic_year_type)
    REFERENCES dbo.ACADEMIC_YEAR_TYPE (academic_year_type)
go
ALTER TABLE dbo.ACCREDITATION
    ADD CONSTRAINT FK_ACCREDITATION_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.ACCREDITATION
    ADD CONSTRAINT FK_ACCREDITION_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACCRED_ITEM_CREATE_CASE
    FOREIGN KEY (created_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACCRED_ITEM_UPDATE_CASE
    FOREIGN KEY (last_updated_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_ACRD_ITEM_STATUS
    FOREIGN KEY (accredited_item_status)
    REFERENCES dbo.ACCREDITED_ITEM_STATUS (accredited_item_status)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_ACRD_ITEM_TYPE
    FOREIGN KEY (accredited_item_type)
    REFERENCES dbo.ACCREDITED_ITEM_TYPE (accredited_item_type)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_CFN_CATEGORY
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_COURSE_MON_CYCLE
    FOREIGN KEY (course_monitoring_cycle_code)
    REFERENCES dbo.COURSE_MONITORING_CYCLE_CODE (course_monitoring_cycle_code)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_COURSE_MON_STATUS
    FOREIGN KEY (course_monitoring_status)
    REFERENCES dbo.COURSE_MONITORING_STATUS (course_monitoring_status)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_COURSE_VER
    FOREIGN KEY (course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_DELIVERY_PROVIDER
    FOREIGN KEY (delivery_site_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_DEL_MODE_TYPE
    FOREIGN KEY (delivery_mode_type)
    REFERENCES dbo.DELIVERY_MODE_TYPE (delivery_mode_type)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_PERORG_ROLE
    FOREIGN KEY (monitor_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_PROVIDER_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_QA_APRV_RTNG_CODE
    FOREIGN KEY (qa_aprv_rating_code)
    REFERENCES dbo.QA_APRV_RATING_CODE (qa_aprv_rating_code)
go
ALTER TABLE dbo.ACCREDITED_ITEM
    ADD CONSTRAINT FK_ACRD_ITEM_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM_STATUS_HIST
    ADD CONSTRAINT FK_ACCREDIT_ACCREDITE_ACCREDIT
    FOREIGN KEY (accredited_item_id)
    REFERENCES dbo.ACCREDITED_ITEM (accredited_item_id)
go
ALTER TABLE dbo.ACCREDITED_ITEM_STATUS_HIST
    ADD CONSTRAINT FK_ACCRED_ITEM_STATUS_HIST
    FOREIGN KEY (accredited_item_status)
    REFERENCES dbo.ACCREDITED_ITEM_STATUS (accredited_item_status)
go
ALTER TABLE dbo.ACRD_INHERITANCE_MAP
    ADD CONSTRAINT FK_ACRD_INHERIT_MAP_PROVIDER_1
    FOREIGN KEY (inheriting_moe_provider_id,inheriting_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.ACRD_INHERITANCE_MAP
    ADD CONSTRAINT FK_ACRD_INHERIT_MAP_PROVIDER_2
    FOREIGN KEY (inherited_from_moe_provider_id,inherited_from_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.ALLOCATION_GROUP
    ADD CONSTRAINT FK_ALLOCATION_GROUP_METHOD
    FOREIGN KEY (allocation_method)
    REFERENCES dbo.ALLOCATION_METHOD (allocation_method)
go
ALTER TABLE dbo.ALLOCATION_RUN
    ADD CONSTRAINT FK_ALLOCATION_RUN_GROUP
    FOREIGN KEY (allocation_group_id)
    REFERENCES dbo.ALLOCATION_GROUP (allocation_group_id)
go
ALTER TABLE dbo.ALLOCATION_RUN
    ADD CONSTRAINT FK_ALLOCATION_RUN_STATUS
    FOREIGN KEY (allocation_run_status)
    REFERENCES dbo.ALLOCATION_RUN_STATUS (allocation_run_status)
go
ALTER TABLE dbo.ALLOCATION_RUN
    ADD CONSTRAINT FK_ALLOCATION_RUN_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.ALLOCATION_WORKTABLE
    ADD CONSTRAINT FK_ALLOCATION_WORKTABLE_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ALLOCATION_WORKTABLE
    ADD CONSTRAINT FK_ALLOCATION_WORKTABLE_MARKER
    FOREIGN KEY (marker_allocation_group_id)
    REFERENCES dbo.MARKER_ALLOCATION_GROUP (marker_allocation_group_id)
go
ALTER TABLE dbo.ALLOCATION_WORKTABLE
    ADD CONSTRAINT FK_ALLOC_WORKTABLE_ALL_RUN
    FOREIGN KEY (allocation_run_id)
    REFERENCES dbo.ALLOCATION_RUN (allocation_run_id)
go
ALTER TABLE dbo.ALLOCATION_WORKTABLE
    ADD CONSTRAINT FK_ALLOC_WORKTABLE_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.ALLOCATION_WORKTABLE
    ADD CONSTRAINT FK_ALLOC_WORK_LEARNER_ENROL
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.AMAP
    ADD CONSTRAINT FK_AMAP_LAT_REG_VER
    FOREIGN KEY (latest_reg_amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP
    ADD CONSTRAINT FK_AMAP_REF_AMAP_STATUS
    FOREIGN KEY (amap_status_code)
    REFERENCES dbo.AMAP_STATUS_CODE (amap_status_code)
go
ALTER TABLE dbo.AMAP
    ADD CONSTRAINT FK_AMAP_REF_LATEST_AMAP_VER
    FOREIGN KEY (latest_amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP
    ADD CONSTRAINT FK_AMAP_WEB_AMAP_VERSION
    FOREIGN KEY (web_amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP_CONTEXT
    ADD CONSTRAINT FK_AMAP_CONTEXT_AMAP_SCOPE
    FOREIGN KEY (amap_scope_id)
    REFERENCES dbo.AMAP_SCOPE (amap_scope_id)
go
ALTER TABLE dbo.AMAP_COVERAGE
    ADD CONSTRAINT FK_AMAP_COVERAGE_REF_AMAP_ID
    FOREIGN KEY (amap_id)
    REFERENCES dbo.AMAP (amap_id)
go
ALTER TABLE dbo.AMAP_COVERAGE
    ADD CONSTRAINT FK_AMAP_COVERAGE_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_ACTION_TYPE
    FOREIGN KEY (action_type_code)
    REFERENCES dbo.ACCREDITATION_OPTION_CODE (accreditation_option_code)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_AMAP_CONTEXT
    FOREIGN KEY (latest_amap_context_id)
    REFERENCES dbo.AMAP_CONTEXT (amap_context_id)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_CFN
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_REF_AMAP_ID
    FOREIGN KEY (amap_id)
    REFERENCES dbo.AMAP (amap_id)
go
ALTER TABLE dbo.AMAP_SCOPE
    ADD CONSTRAINT FK_AMAP_SCOPE_REF_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.AMAP_SCOPE_ACTION_HISTORY
    ADD CONSTRAINT FK_AMAP_ACT_HIST_ACRD_OPT_CODE
    FOREIGN KEY (action_type_code)
    REFERENCES dbo.ACCREDITATION_OPTION_CODE (accreditation_option_code)
go
ALTER TABLE dbo.AMAP_SCOPE_ACTION_HISTORY
    ADD CONSTRAINT FK_AMAP_ACT_HIST_AMAP_SCOPE
    FOREIGN KEY (amap_scope_id)
    REFERENCES dbo.AMAP_SCOPE (amap_scope_id)
go
ALTER TABLE dbo.AMAP_STATUS_HISTORY
    ADD CONSTRAINT FK_AMAP_HIST_STATUS
    FOREIGN KEY (amap_status_code)
    REFERENCES dbo.AMAP_STATUS_CODE (amap_status_code)
go
ALTER TABLE dbo.AMAP_STATUS_HISTORY
    ADD CONSTRAINT FK_AMAP_STATUS_HIST_AMAP
    FOREIGN KEY (amap_id)
    REFERENCES dbo.AMAP (amap_id)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VERSION_AMAP
    FOREIGN KEY (amap_id)
    REFERENCES dbo.AMAP (amap_id)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VERSION_PERORG_ROLE
    FOREIGN KEY (ssb_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VERSION_VER_STATUS
    FOREIGN KEY (amap_version_status_code)
    REFERENCES dbo.AMAP_VERSION_STATUS_CODE (amap_version_status_code)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VER_PROCESS_TYPE_CODE
    FOREIGN KEY (process_type_code)
    REFERENCES dbo.PROCESS_TYPE_CODE (process_type_code)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VER_PROP_AMAP_STATUS
    FOREIGN KEY (proposed_amap_status_code)
    REFERENCES dbo.AMAP_STATUS_CODE (amap_status_code)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VER_QA_EVENT_CODE
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.AMAP_VERSION
    ADD CONSTRAINT FK_AMAP_VER_QUAL_APPLICATION
    FOREIGN KEY (qual_application_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.AMAP_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_AMAP_VER_PUB_HIST_AMAP_VER
    FOREIGN KEY (amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_AMAP_VER_PUB_HIST_PUB_CODE
    FOREIGN KEY (qual_publication_code)
    REFERENCES dbo.QUAL_PUBLICATION_CODE (qual_publication_code)
go
ALTER TABLE dbo.AMAP_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_AMAP_VER_HIST_STATUS
    FOREIGN KEY (amap_version_status_code)
    REFERENCES dbo.AMAP_VERSION_STATUS_CODE (amap_version_status_code)
go
ALTER TABLE dbo.AMAP_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_AMAP_VER_STATUS_HIST
    FOREIGN KEY (amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_AMAP_VER_QA_EVT_AMAP_VER
    FOREIGN KEY (amap_version_id)
    REFERENCES dbo.AMAP_VERSION (amap_version_id)
go
ALTER TABLE dbo.AMAP_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_AM_VER_QA_EV_HIS_EV_CODE
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_ASSESSMENT_CENTRE_PICKUP
    FOREIGN KEY (pickup_type)
    REFERENCES dbo.PICKUP_TYPE (pickup_type)
go
ALTER TABLE dbo.ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_ASSESS_CTR_ASSESS_CTR_TYPE
    FOREIGN KEY (assessment_centre_type)
    REFERENCES dbo.ASSESSMENT_CENTRE_TYPE (assessment_centre_type)
go
ALTER TABLE dbo.ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_ASSESS_CTR_NZPOST_HUB
    FOREIGN KEY (hub_id)
    REFERENCES dbo.NZPOST_HUB (hub_id)
go
ALTER TABLE dbo.ASSESSMENT_COMPONENT_PEP
    ADD CONSTRAINT FK_ASSESS_COMP_PEP_ASS_COMP
    FOREIGN KEY (assessment_session_comp_id)
    REFERENCES dbo.ASSESSMENT_SESSION_COMPONENT (assessment_session_comp_id)
go
ALTER TABLE dbo.ASSESSMENT_COMPONENT_PEP
    ADD CONSTRAINT FK_ASSESS_COMP_PEP_RESULT_CODE
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.ASSESSMENT_SESSION
    ADD CONSTRAINT FK_ASSESSMENT_SESSION_TYPE
    FOREIGN KEY (assessment_session_type)
    REFERENCES dbo.ASSESSMENT_SESSION_TYPE (assessment_session_type)
go
ALTER TABLE dbo.ASSESSMENT_SESSION
    ADD CONSTRAINT FK_ASSESS_SESSION_SCHED_TYPE
    FOREIGN KEY (schedule_type)
    REFERENCES dbo.SCHEDULE_TYPE (schedule_type)
go
ALTER TABLE dbo.ASSESSMENT_SESSION
    ADD CONSTRAINT FK_ASSESS_SESSION_YEAR
    FOREIGN KEY (assessment_cycle_id)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASCMPT_MARKING_SCHEME_STATU
    FOREIGN KEY (cut_score_status_code)
    REFERENCES dbo.CUT_SCORE_STATUS (cut_score_status_code)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASCMPT_MARKING_SCHEME_TYPE
    FOREIGN KEY (marking_scheme_type_code)
    REFERENCES dbo.MARKING_SCHEME_TYPE (marking_scheme_type_code)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASSESS_SESSION_COMP_SESSION
    FOREIGN KEY (assessment_session_id,academic_year)
    REFERENCES dbo.ASSESSMENT_SESSION (assessment_session_id,assessment_cycle_id)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASSESS_SESSION_COMP_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASSESS_SESS_COMP_ALLOC_GRP
    FOREIGN KEY (allocation_group_id)
    REFERENCES dbo.ALLOCATION_GROUP (allocation_group_id)
go
ALTER TABLE dbo.ASSESSMENT_SESSION_COMPONENT
    ADD CONSTRAINT FK_ASS_SESS_COMP_LAYOUT_TYPE
    FOREIGN KEY (result_component_layout_type)
    REFERENCES dbo.RESULT_COMPONENT_LAYOUT_TYPE (result_component_layout_type)
go
ALTER TABLE dbo.ASSESS_SESSION_RELATIONSHIP
    ADD CONSTRAINT FK_ASSESS_SESSION_REL_SESSION
    FOREIGN KEY (assessment_session_id)
    REFERENCES dbo.ASSESSMENT_SESSION (assessment_session_id)
go
ALTER TABLE dbo.ASSESS_SESSION_RELATIONSHIP
    ADD CONSTRAINT FK_ASSESS_SESSION_REL_TYPE
    FOREIGN KEY (assessment_session_rel_type)
    REFERENCES dbo.ASSESSMENT_SESSION_REL_TYPE (assessment_session_rel_type)
go
ALTER TABLE dbo.ASSESS_SESSION_RELATIONSHIP
    ADD CONSTRAINT FK_ASSESS_SESS_REL_RELATED_SES
    FOREIGN KEY (related_assessment_session_id)
    REFERENCES dbo.ASSESSMENT_SESSION (assessment_session_id)
go
ALTER TABLE dbo.ASSESS_SESS_CMPT_CUT_SCORE
    ADD CONSTRAINT FK_ASCMPT_CUT_SCORE_ASSESS_SESS_CMPT
    FOREIGN KEY (assessment_session_comp_id)
    REFERENCES dbo.ASSESSMENT_SESSION_COMPONENT (assessment_session_comp_id)
go
ALTER TABLE dbo.ASSESS_SESS_CMPT_CUT_SCORE
    ADD CONSTRAINT FK_ASCMPT_CUT_SCORE_RESULT_COD
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.ASSMT_SESS_COMP_MATERIAL
    ADD CONSTRAINT FK_ASSESS_RESOURCE_SESS_COMP
    FOREIGN KEY (assessment_session_comp_id)
    REFERENCES dbo.ASSESSMENT_SESSION_COMPONENT (assessment_session_comp_id)
go
ALTER TABLE dbo.ASSMT_SESS_COMP_MATERIAL
    ADD CONSTRAINT FK_ASSMT_SESS_COMP_MAT_MAT
    FOREIGN KEY (exam_material_id)
    REFERENCES dbo.EXAM_MATERIAL (exam_material_id)
go
ALTER TABLE dbo.ASS_SESS_COMP_ASSESS_METHOD
    ADD CONSTRAINT FK_ASS_SESS_COMP_ASS_METHOD_ASS_METHOD
    FOREIGN KEY (assessment_method)
    REFERENCES dbo.ASSESSMENT_METHOD (assessment_method)
go
ALTER TABLE dbo.ASS_SESS_COMP_ASSESS_METHOD
    ADD CONSTRAINT FK_ASS_SESS_COMP_ASS_METHOD_SESS_COMP
    FOREIGN KEY (assessment_session_comp_id)
    REFERENCES dbo.ASSESSMENT_SESSION_COMPONENT (assessment_session_comp_id)
go
ALTER TABLE dbo.AWARDING_PROVIDER_MAP
    ADD CONSTRAINT FK_AP_MAP_AWARDING_PROVIDER
    FOREIGN KEY (awarding_provider_id,awarding_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.AWARDING_PROVIDER_MAP
    ADD CONSTRAINT FK_AP_MAP_SUBMITTING_PROVIDER
    FOREIGN KEY (submitting_provider_id,submitting_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.AWARD_DETAIL
    ADD CONSTRAINT FK_AWARD_DETAIL_RECIPIENT
    FOREIGN KEY (award_recipient_id)
    REFERENCES dbo.AWARD_RECIPIENT (award_recipient_id)
go
ALTER TABLE dbo.AWARD_DETAIL
    ADD CONSTRAINT FK_AWARD_DETAIL_STD_GRP
    FOREIGN KEY (std_group_id)
    REFERENCES dbo.STD_GROUP (std_group_id)
go
ALTER TABLE dbo.AWARD_DETAIL
    ADD CONSTRAINT FK_AWARD_DETAIL_TYPE
    FOREIGN KEY (award_type_code)
    REFERENCES dbo.AWARD_TYPE (award_type_code)
go
ALTER TABLE dbo.AWARD_RECIPIENT
    ADD CONSTRAINT FK_AWARD_RECIPIENT_EXT_STATUS
    FOREIGN KEY (award_external_status_code)
    REFERENCES dbo.AWARD_EXTERNAL_STATUS (award_external_status_code)
go
ALTER TABLE dbo.AWARD_RECIPIENT
    ADD CONSTRAINT FK_AWARD_RECIPIENT_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.AWARD_RECIPIENT
    ADD CONSTRAINT FK_AWARD_RECIPIENT_NZQA_STATUS
    FOREIGN KEY (award_nzqa_status_code)
    REFERENCES dbo.AWARD_NZQA_STATUS (award_nzqa_status_code)
go
ALTER TABLE dbo.AWARD_RECIPIENT
    ADD CONSTRAINT FK_AWARD_RECIPIENT_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.AWARD_RECIPIENT
    ADD CONSTRAINT FK_AWARD_RECIPIENT_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.BATCH_COMMENT
    ADD CONSTRAINT FK_BATCH_COMMENT_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.BATCH_COUNT_TYPE_CODE
    ADD CONSTRAINT FK_BAT_COUNT_SUMM_COUNT_TYPE
    FOREIGN KEY (batch_summary_type_code)
    REFERENCES dbo.BATCH_SUMMARY_TYPE_CODE (batch_summary_type_code)
go
ALTER TABLE dbo.BATCH_ERROR_CODE
    ADD CONSTRAINT FK_BATCH_ERROR_CODE_SEVERITY
    FOREIGN KEY (default_severity)
    REFERENCES dbo.SEVERITY (severity_code)
go
ALTER TABLE dbo.BATCH_ERROR_CODE
    ADD CONSTRAINT FK_BATCH_ERROR_TYPE_CODE
    FOREIGN KEY (batch_error_type_code)
    REFERENCES dbo.BATCH_ERROR_TYPE_CODE (batch_error_type_code)
go
ALTER TABLE dbo.BATCH_ERROR_SEVERITY
    ADD CONSTRAINT FK_BATCH_ERROR_SEVERITY
    FOREIGN KEY (severity_code)
    REFERENCES dbo.SEVERITY (severity_code)
go
ALTER TABLE dbo.BATCH_ERROR_SEVERITY
    ADD CONSTRAINT FK_BATCH_ERROR_SEVERITY_CODE
    FOREIGN KEY (batch_error_code)
    REFERENCES dbo.BATCH_ERROR_CODE (batch_error_code)
go
ALTER TABLE dbo.BATCH_ERROR_SEVERITY
    ADD CONSTRAINT FK_BATCH_ERROR_SEVERITY_TYPE
    FOREIGN KEY (batch_type_code)
    REFERENCES dbo.BATCH_TYPE_CODE (batch_type_code)
go
ALTER TABLE dbo.BATCH_ERROR_SEVERITY
    ADD CONSTRAINT FK_FILE_TYPE
    FOREIGN KEY (file_type_code,batch_type_code)
    REFERENCES dbo.BATCH_FILE_TYPE_CODE (file_type_code,batch_type_code)
go
ALTER TABLE dbo.BATCH_ERROR_TOTAL
    ADD CONSTRAINT FK_BATCH_ERROR_TATAL_BATCH_INP
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.BATCH_ERROR_TOTAL
    ADD CONSTRAINT FK_BATCH_ERROR_TOTAL_ERROR_CDE
    FOREIGN KEY (batch_error_code)
    REFERENCES dbo.BATCH_ERROR_CODE (batch_error_code)
go
ALTER TABLE dbo.BATCH_ERROR_TOTAL
    ADD CONSTRAINT FK_BATCH_ERROR_TOTAL_SEVERITY
    FOREIGN KEY (severity_code)
    REFERENCES dbo.SEVERITY (severity_code)
go
ALTER TABLE dbo.BATCH_FILE_TYPE_CODE
    ADD CONSTRAINT FK_BATCH_FILE_TYPE_BATCH_TYPE
    FOREIGN KEY (batch_type_code)
    REFERENCES dbo.BATCH_TYPE_CODE (batch_type_code)
go
ALTER TABLE dbo.BATCH_INPUT
    ADD CONSTRAINT FK_BATCH_INPUT_PARENT_BATCH
    FOREIGN KEY (parent_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.BATCH_INPUT
    ADD CONSTRAINT FK_BATCH_INPUT_PROVIDER
    FOREIGN KEY (provider_id,location_id)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.BATCH_INPUT
    ADD CONSTRAINT FK_BATCH_INP_BATCH_TYPE_CODE
    FOREIGN KEY (batch_type_code)
    REFERENCES dbo.BATCH_TYPE_CODE (batch_type_code)
go
ALTER TABLE dbo.BATCH_STATUS
    ADD CONSTRAINT FK_BATCH_STATUS_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.BATCH_STATUS
    ADD CONSTRAINT FK_BATCH_STATUS_TYPE_CODE
    FOREIGN KEY (batch_status_type_code)
    REFERENCES dbo.BATCH_STATUS_TYPE_CODE (batch_status_type_code)
go
ALTER TABLE dbo.BATCH_STATUS_MAP
    ADD CONSTRAINT FK_BATCH_STATUS_MAP_BATCH_TYP
    FOREIGN KEY (batch_type_code)
    REFERENCES dbo.BATCH_TYPE_CODE (batch_type_code)
go
ALTER TABLE dbo.BATCH_STATUS_MAP
    ADD CONSTRAINT FK_BATCH_STATUS_MAP_PROVIDER
    FOREIGN KEY (provider_id,location_id)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.BATCH_STATUS_MAP
    ADD CONSTRAINT FK_MAP_REF_BATCH_STAT_TC_FROM
    FOREIGN KEY (from_status)
    REFERENCES dbo.BATCH_STATUS_TYPE_CODE (batch_status_type_code)
go
ALTER TABLE dbo.BATCH_STATUS_MAP
    ADD CONSTRAINT FK_MAP_REF_BATCH_STAT_TC_TO
    FOREIGN KEY (to_status)
    REFERENCES dbo.BATCH_STATUS_TYPE_CODE (batch_status_type_code)
go
ALTER TABLE dbo.BATCH_SUMMARY_EXCLUSION
    ADD CONSTRAINT FK_SUMMARY_EXCL_BATCH_TYPE
    FOREIGN KEY (batch_type_code)
    REFERENCES dbo.BATCH_TYPE_CODE (batch_type_code)
go
ALTER TABLE dbo.BATCH_SUMMARY_EXCLUSION
    ADD CONSTRAINT FK_SUMMARY_EXCL_COUNT_TYPE
    FOREIGN KEY (batch_count_type_code)
    REFERENCES dbo.BATCH_COUNT_TYPE_CODE (batch_count_type_code)
go
ALTER TABLE dbo.BATCH_SUMMARY_TOTAL
    ADD CONSTRAINT FK_BATCH_SUMM_TOTAL_BATCH_INP
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.BATCH_SUMMARY_TOTAL
    ADD CONSTRAINT FK_BATCH_SUMM_TOTAL_COUNT_TYPE
    FOREIGN KEY (batch_count_type_code)
    REFERENCES dbo.BATCH_COUNT_TYPE_CODE (batch_count_type_code)
go
ALTER TABLE dbo.BOOKLET_RETRIEVAL
    ADD CONSTRAINT FK_BOOKLET_RETRIEVAL_ACTION_TP
    FOREIGN KEY (booklet_action_type)
    REFERENCES dbo.BOOKLET_ACTION_TYPE (booklet_action_type)
go
ALTER TABLE dbo.BOOKLET_RETRIEVAL
    ADD CONSTRAINT FK_BOOKLET_RETRIEVAL_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.BOOKLET_RETRIEVAL
    ADD CONSTRAINT FK_BOOKLET_RETRIEVAL_PROC_TP
    FOREIGN KEY (booklet_process_type)
    REFERENCES dbo.BOOKLET_PROCESS_TYPE (booklet_process_type)
go
ALTER TABLE dbo.CASE_TYPE_STATUS_COMBO
    ADD CONSTRAINT FK_CASE_TYPE_STATUS_COM_STATUS
    FOREIGN KEY (case_status)
    REFERENCES dbo.CASE_STATUS (case_status)
go
ALTER TABLE dbo.CASE_TYPE_STATUS_COMBO
    ADD CONSTRAINT FK_CASE_TYPE_STATUS_COM_TYPE
    FOREIGN KEY (case_type)
    REFERENCES dbo.CASE_TYPE (case_type)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATEGORY_ALT_LANGUAGE
    FOREIGN KEY (alternate_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATEGORY_CFN_SYSTEM_CO
    FOREIGN KEY (cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATEGORY_PARENT
    FOREIGN KEY (parent_cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATEGORY_PRIMARY_LANG
    FOREIGN KEY (primary_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATEGORY_STATUS
    FOREIGN KEY (cfn_catg_status_code,cfn_system_code)
    REFERENCES dbo.CFN_CATEGORY_STATUS (cfn_catg_status_code,cfn_system_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATE_BSAS_LVL
    FOREIGN KEY (bsas_accreditation_level)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATE_CFN_CA_CFN_DEPT
    FOREIGN KEY (cfn_depth_code)
    REFERENCES dbo.CFN_DEPTH_TYPE (cfn_depth_code)
go
ALTER TABLE dbo.CFN_CATEGORY
    ADD CONSTRAINT FK_CFN_CATE_STAR_EXCLUDED_LVL
    FOREIGN KEY (star_excluded_level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.CFN_CATEGORY_STATUS
    ADD CONSTRAINT FK_CFN_CAT_STATUS_SYSTEM_TYPE
    FOREIGN KEY (cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.CFN_CATEGORY_STATUS_HISTORY
    ADD CONSTRAINT FK_CFN_CAT_STATUS_HIST_CFN_CAT
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.CFN_CATEGORY_STATUS_HISTORY
    ADD CONSTRAINT FK_CFN_CAT_STATUS_HIST_SYS_TYP
    FOREIGN KEY (cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.CFN_CATEGORY_STATUS_HISTORY
    ADD CONSTRAINT FK_CFN_CAT_STAT_HIST_STAT
    FOREIGN KEY (cfn_category_status_code)
    REFERENCES dbo.CFN_CATEGORY_STATUS (cfn_catg_status_code)
go
ALTER TABLE dbo.CFN_DEPTH_TYPE
    ADD CONSTRAINT FK_CFN_DEPT_FK_CFN_DE_CFN_SYST
    FOREIGN KEY (cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.CFN_RELATIONSHIP_FROM
    ADD CONSTRAINT FK_CFN_REL_FROM_CFN_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.CFN_RELATIONSHIP_FROM
    ADD CONSTRAINT FK_CFN_REL_FROM_HDR
    FOREIGN KEY (cfn_rel_header_id)
    REFERENCES dbo.CFN_RELATIONSHIP_HEADER (cfn_rel_header_id)
go
ALTER TABLE dbo.CFN_RELATIONSHIP_HEADER
    ADD CONSTRAINT FK_CFN_REL_HDR_STATUS
    FOREIGN KEY (cfn_rel_status_code)
    REFERENCES dbo.CFN_RELATIONSHIP_STATUS (cfn_rel_status_code)
go
ALTER TABLE dbo.CFN_RELATIONSHIP_TO
    ADD CONSTRAINT FK_CFN_REL_TO_CFN_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.CFN_RELATIONSHIP_TO
    ADD CONSTRAINT FK_CFN_RE_TO_HDR
    FOREIGN KEY (cfn_rel_header_id)
    REFERENCES dbo.CFN_RELATIONSHIP_HEADER (cfn_rel_header_id)
go
ALTER TABLE dbo.CLAIM_CONTRACT
    ADD CONSTRAINT FK_CLAIM_CONTRACT_ACT_CODE
    FOREIGN KEY (pse_activity_code)
    REFERENCES dbo.PSE_ACTIVITY_CODE (pse_activity_code)
go
ALTER TABLE dbo.CLAIM_CONTRACT
    ADD CONSTRAINT FK_CLAIM_CONTRACT_COST_CTR
    FOREIGN KEY (pse_cost_centre_code)
    REFERENCES dbo.PSE_COST_CENTRE_CODE (pse_cost_centre_code)
go
ALTER TABLE dbo.CLAIM_CONTRACT
    ADD CONSTRAINT FK_CLAIM_CONTRACT_RESOURCE_GRP
    FOREIGN KEY (pse_resource_group_code)
    REFERENCES dbo.PSE_RESOURCE_GROUP_CODE (pse_resource_group_code)
go
ALTER TABLE dbo.CLAIM_CONTRACT
    ADD CONSTRAINT FK_CLAIM_CONTRACT_ROLE_TYPE
    FOREIGN KEY (perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.CLAIM_CONTRACT
    ADD CONSTRAINT FK_CLAIM_CONTRACT_YEAR
    FOREIGN KEY (academic_cycle)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.CLAIM_CONTRACT_ITEM
    ADD CONSTRAINT FK_CLAIM_CONTRACT_ITEM_TYPE
    FOREIGN KEY (claim_item_type_id)
    REFERENCES dbo.CLAIM_ITEM_TYPE (claim_item_type_id)
go
ALTER TABLE dbo.CLAIM_CONTRACT_ITEM
    ADD CONSTRAINT FK_CLAIM_CONTRACT_ITM_CONTRACT
    FOREIGN KEY (claim_contract_id)
    REFERENCES dbo.CLAIM_CONTRACT (claim_contract_id)
go
ALTER TABLE dbo.CLAIM_ITEM
    ADD CONSTRAINT FK_CLAIM_ITEM_PERSON_CLAIM
    FOREIGN KEY (person_claim_id)
    REFERENCES dbo.PERSON_CLAIM (person_claim_id)
go
ALTER TABLE dbo.CLAIM_ITEM
    ADD CONSTRAINT FK_CLAIM_ITEM_TYPE
    FOREIGN KEY (claim_item_type_id)
    REFERENCES dbo.CLAIM_ITEM_TYPE (claim_item_type_id)
go
ALTER TABLE dbo.CLAIM_ITEM_TYPE
    ADD CONSTRAINT FK_CLAIM_ITEM_TYPE_ELEMNT_CODE
    FOREIGN KEY (pse_element_code)
    REFERENCES dbo.PSE_ELEMENT_CODE (pse_element_code)
go
ALTER TABLE dbo.CLAIM_ITEM_TYPE
    ADD CONSTRAINT FK_CLAIM_ITEM_TYPE_GL_CODE
    FOREIGN KEY (pse_gl_code)
    REFERENCES dbo.PSE_GL_CODE (pse_gl_code)
go
ALTER TABLE dbo.CLAIM_ITEM_TYPE
    ADD CONSTRAINT FK_CLAIM_ITEM_TYPE_ROLE
    FOREIGN KEY (perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.CLAIM_RATE
    ADD CONSTRAINT FK_CLAIM_RATE_CONTRACT_ITEM
    FOREIGN KEY (claim_item_type_id,claim_contract_id)
    REFERENCES dbo.CLAIM_CONTRACT_ITEM (claim_item_type_id,claim_contract_id)
go
ALTER TABLE dbo.CLAIM_RATE
    ADD CONSTRAINT FK_CLAIM_RATE_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.CLAIM_UNIT
    ADD CONSTRAINT FK_CLAIM_UNIT_CLAIM_RATE
    FOREIGN KEY (claim_rate_id)
    REFERENCES dbo.CLAIM_RATE (claim_rate_id)
go
ALTER TABLE dbo.CLAIM_UNIT
    ADD CONSTRAINT FK_CLAIM_UNIT_PERSON_CLAIM
    FOREIGN KEY (person_claim_id)
    REFERENCES dbo.PERSON_CLAIM (person_claim_id)
go
ALTER TABLE dbo.CLAIM_UNIT_QUANTITY
    ADD CONSTRAINT FK_CLAIM_UNIT_QTY_CLAIM_UNIT
    FOREIGN KEY (claim_unit_id)
    REFERENCES dbo.CLAIM_UNIT (claim_unit_id)
go
ALTER TABLE dbo.CLAIM_UNIT_QUANTITY
    ADD CONSTRAINT FK_CLAIM_UNIT_QTY_TYPE
    FOREIGN KEY (claim_quantity_type)
    REFERENCES dbo.CLAIM_QUANTITY_TYPE (claim_quantity_type)
go
ALTER TABLE dbo.CODE_TABLE
    ADD CONSTRAINT FK_CODE_TBL_CODE_TBL_CATG
    FOREIGN KEY (code_table_catg_code)
    REFERENCES dbo.CODE_TABLE_CATG (code_table_catg_code)
go
ALTER TABLE dbo.CODE_TABLE_HISTORY
    ADD CONSTRAINT FK_CODE_TBL_HISTORY_CODE_TBL
    FOREIGN KEY (code_table_id)
    REFERENCES dbo.CODE_TABLE (code_table_id)
go
ALTER TABLE dbo.COMPASSIONATE
    ADD CONSTRAINT FK_COMPASSIONATE_AUDIT_TRANS
    FOREIGN KEY (audit_tran_id)
    REFERENCES dbo.AUDIT_TRANSACTION (audit_tran_oid)
go
ALTER TABLE dbo.COMPASSIONATE
    ADD CONSTRAINT FK_COMPASSIONATE_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.COMPASSIONATE
    ADD CONSTRAINT FK_COMPASSIONATE_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.COMPASSIONATE_ENTRY
    ADD CONSTRAINT FK_COMPASSIONATE_ENTRY_COMP
    FOREIGN KEY (compassionate_id)
    REFERENCES dbo.COMPASSIONATE (compassionate_id)
go
ALTER TABLE dbo.COMPASSIONATE_ENTRY
    ADD CONSTRAINT FK_COMPASSIONATE_ENTRY_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.COMPASSIONATE_ENTRY
    ADD CONSTRAINT FK_COMPASSIONATE_ENTRY_RESULT
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.COMPASSIONATE_ENTRY
    ADD CONSTRAINT FK_COMPASSIONATE_ENTRY_STATUS
    FOREIGN KEY (compassionate_status_code)
    REFERENCES dbo.COMPASSIONATE_STATUS (compassionate_status_code)
go
ALTER TABLE dbo.COMPASSIONATE_ENTRY
    ADD CONSTRAINT FK_COMP_ENTRY_AUDIT_TRANS
    FOREIGN KEY (audit_tran_id)
    REFERENCES dbo.AUDIT_TRANSACTION (audit_tran_oid)
go
ALTER TABLE dbo.COMPASSIONATE_PEER
    ADD CONSTRAINT FK_COMPASSION_PEER_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.COMPASSIONATE_PEER
    ADD CONSTRAINT FK_COMP_PEER_AUDIT_TRANS
    FOREIGN KEY (audit_tran_id)
    REFERENCES dbo.AUDIT_TRANSACTION (audit_tran_oid)
go
ALTER TABLE dbo.COMPASSIONATE_PEER
    ADD CONSTRAINT FK_COMP_PEER_COMP_ENTRY
    FOREIGN KEY (compassionate_entry_id)
    REFERENCES dbo.COMPASSIONATE_ENTRY (compassionate_entry_id)
go
ALTER TABLE dbo.COM_COMBO
    ADD CONSTRAINT FK_COM_COMB_FK_COM_CO_COM_MEDI
    FOREIGN KEY (com_medium_code)
    REFERENCES dbo.COM_MEDIUM (com_medium_code)
go
ALTER TABLE dbo.COM_COMBO
    ADD CONSTRAINT FK_COM_COMB_FK_COM_CO_COM_TYPE
    FOREIGN KEY (com_type_code)
    REFERENCES dbo.COM_TYPE (com_type_code)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_COM_COMBO
    FOREIGN KEY (com_type_code,com_medium_code)
    REFERENCES dbo.COM_COMBO (com_type_code,com_medium_code)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_COUNTRY
    FOREIGN KEY (country)
    REFERENCES dbo.COUNTRY_CODE (country_short_code)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_MERGE_REQ
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_ORIG_REF_ID
    FOREIGN KEY (original_reference_id)
    REFERENCES dbo.COM_METHOD (com_method_id)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_COM_METHOD_RELATIONSHIP
    FOREIGN KEY (rel_id)
    REFERENCES dbo.RELATIONSHIP (rel_id)
go
ALTER TABLE dbo.COM_METHOD
    ADD CONSTRAINT FK_PERORG_ROLE_ID
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.CONTACT_MERGE_DETAIL
    ADD CONSTRAINT FK_CONTACT_MERGE_DETAIL
    FOREIGN KEY (contact_merge_run_id)
    REFERENCES dbo.CONTACT_MERGE_RUN (contact_merge_run_id)
go
ALTER TABLE dbo.CONTACT_MERGE_RUN
    ADD CONSTRAINT FK_CONTACT_MERGE_PRIM_PERORG
    FOREIGN KEY (primary_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.CONTACT_MERGE_RUN
    ADD CONSTRAINT FK_CONTACT_MERGE_RUN_STATUS
    FOREIGN KEY (contact_merge_run_status)
    REFERENCES dbo.CONTACT_MERGE_RUN_STATUS (contact_merge_run_status)
go
ALTER TABLE dbo.CONTACT_MERGE_RUN
    ADD CONSTRAINT FK_CONTACT_MERGE_SEC_PERORG
    FOREIGN KEY (secondary_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.COST_ALLOCATION
    ADD CONSTRAINT FK_COST_ALLOCATION_FIN_TRANS
    FOREIGN KEY (transaction_id)
    REFERENCES dbo.FINANCE_TRANSACTION (transaction_id)
go
ALTER TABLE dbo.COUNTRY_CODE
    ADD CONSTRAINT FK_CTRY_CODE_COURIER_ZONE_CODE
    FOREIGN KEY (courier_zone_code)
    REFERENCES dbo.COURIER_ZONE_CODE (courier_zone_code)
go
ALTER TABLE dbo.COURIER_PRICE_LIST
    ADD CONSTRAINT FK_COURIER_PRICE_LST_CTRY_ZONE
    FOREIGN KEY (courier_zone_code)
    REFERENCES dbo.COURIER_ZONE_CODE (courier_zone_code)
go
ALTER TABLE dbo.COURSE
    ADD CONSTRAINT FK_COURSE_COURSE_TYPE
    FOREIGN KEY (course_type)
    REFERENCES dbo.COURSE_TYPE (course_type)
go
ALTER TABLE dbo.COURSE
    ADD CONSTRAINT FK_COURSE_COURSE_VERSION
    FOREIGN KEY (latest_course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.COURSE
    ADD CONSTRAINT FK_COURSE_CREATE_PERORG_CASE
    FOREIGN KEY (created_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.COURSE
    ADD CONSTRAINT FK_COURSE_UPDATE_PERORG_CASE
    FOREIGN KEY (last_updated_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VERSION_COURSE
    FOREIGN KEY (course_id)
    REFERENCES dbo.COURSE (course_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VERSION_LVL_FROM
    FOREIGN KEY (level_code_from)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VERSION_LVL_MAX
    FOREIGN KEY (level_code_to)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VERSION_SCH_PROG_LEVEL
    FOREIGN KEY (sch_prog_level_code)
    REFERENCES dbo.SCH_PROG_LEVEL_CODE (sch_prog_level_code)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VER_CFN_CAT
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VER_PERORG_ROLE
    FOREIGN KEY (course_owner_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_VER_STATUS
    FOREIGN KEY (course_version_status)
    REFERENCES dbo.COURSE_VERSION_STATUS (course_version_status)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_V_CREATE_PERORG_CASE
    FOREIGN KEY (created_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_COURSE_V_UPDATE_PERORG_CASE
    FOREIGN KEY (last_updated_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_CRSE_VERSION_CRSE_VERSION
    FOREIGN KEY (embedded_into_crse_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_CRSE_VER_NO_QFN_REASON_CODE
    FOREIGN KEY (no_qfn_reason_code)
    REFERENCES dbo.NO_QFN_REASON_CODE (no_qfn_reason_code)
go
ALTER TABLE dbo.COURSE_VERSION
    ADD CONSTRAINT FK_CRSE_VER_QA_APRV_RTNG_CODE
    FOREIGN KEY (qa_aprv_rating_code)
    REFERENCES dbo.QA_APRV_RATING_CODE (qa_aprv_rating_code)
go
ALTER TABLE dbo.COURSE_VERSION_QFN_VERSION
    ADD CONSTRAINT FK_COURSE_VER_QFN_VERS_QFN_VER
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.COURSE_VERSION_QFN_VERSION
    ADD CONSTRAINT FK_COURSE_VER_QFN_VER_CRSE_VER
    FOREIGN KEY (course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.COURSE_VERSION_STATUS_HIST
    ADD CONSTRAINT FK_COURSE_VER_STA_HIST_VER
    FOREIGN KEY (course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.COURSE_VERSION_STATUS_HIST
    ADD CONSTRAINT FK_CRS_VERS_STATUS_HIST_STATUS
    FOREIGN KEY (course_version_status)
    REFERENCES dbo.COURSE_VERSION_STATUS (course_version_status)
go
ALTER TABLE dbo.COURSE_VERSION_STD
    ADD CONSTRAINT FK_COURSE_VER_STD_COURSE_VER
    FOREIGN KEY (course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.COURSE_VERSION_STD
    ADD CONSTRAINT FK_COURSE_VER_STD_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.CRSE_ENDR_ACHV_STA_HIST
    ADD CONSTRAINT FK_ACHV_STA_HIST_CRSE_ENDR_COD
    FOREIGN KEY (actual_crse_endr_code)
    REFERENCES dbo.CRSE_ENDR_CODE (crse_endr_code)
go
ALTER TABLE dbo.CRSE_ENDR_ACHV_STA_HIST
    ADD CONSTRAINT FK_ENDR_ACHV_STA_HIST_ACH_STA
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.CRSE_ENDR_ACHV_STA_HIST
    ADD CONSTRAINT FK_ENDR_ACHV_STA_HIST_ENDR_RES
    FOREIGN KEY (crse_endr_result_id)
    REFERENCES dbo.CRSE_ENDR_RESULT (crse_endr_result_id)
go
ALTER TABLE dbo.CRSE_ENDR_CODE
    ADD CONSTRAINT FK_CRSE_ENDR_CODE_ENDR
    FOREIGN KEY (endr_short_desc)
    REFERENCES dbo.ENDORSEMENT (short_desc)
go
ALTER TABLE dbo.CRSE_ENDR_CODE
    ADD CONSTRAINT FK_CRSE_ENDR_CODE_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.CRSE_ENDR_EXEMPTION
    ADD CONSTRAINT FK_CRSE_EDNR_RULE_ENDR_EXEMP
    FOREIGN KEY (crse_endr_rule_id)
    REFERENCES dbo.CRSE_ENDR_RULE (crse_endr_rule_id)
go
ALTER TABLE dbo.CRSE_ENDR_EXEMPTION
    ADD CONSTRAINT FK_CRSE_ENDR_RULE_EXE_ASSES_TY
    FOREIGN KEY (assessment_type_code)
    REFERENCES dbo.ASSESSMENT_TYPE (assessment_type_code)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_EDNR_RESULT_E_RQMT_CDE
    FOREIGN KEY (extr_assess_rqmt_met_code)
    REFERENCES dbo.CRSE_ENDR_RQMT_CODE (crse_endr_rqmt_code)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_EDNR_RESULT_I_RQMT_CDE
    FOREIGN KEY (intr_assess_rqmt_met_code)
    REFERENCES dbo.CRSE_ENDR_RQMT_CODE (crse_endr_rqmt_code)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RESULT_ACHD_STA
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RESULT_ENDR_CODE
    FOREIGN KEY (actual_crse_endr_code)
    REFERENCES dbo.CRSE_ENDR_CODE (crse_endr_code)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RESULT_ENDR_RULE
    FOREIGN KEY (crse_endr_rule_id)
    REFERENCES dbo.CRSE_ENDR_RULE (crse_endr_rule_id)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RESULT_EXEMPTION
    FOREIGN KEY (crse_endr_exemption_id)
    REFERENCES dbo.CRSE_ENDR_EXEMPTION (crse_endr_exemption_id)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RESULT_SEC_CRSE
    FOREIGN KEY (secondary_course_id)
    REFERENCES dbo.SECONDARY_COURSE (secondary_course_id)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RSLT_LRNR_ENRL
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RSLT_MERGE_REQ
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.CRSE_ENDR_RESULT
    ADD CONSTRAINT FK_CRSE_ENDR_RSLT_POS_ENDR_CD
    FOREIGN KEY (possible_crse_endr_code)
    REFERENCES dbo.CRSE_ENDR_CODE (crse_endr_code)
go
ALTER TABLE dbo.CRSE_ENDR_RULE
    ADD CONSTRAINT FK_CRSE_EDNR_RULE_ACAD_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.CRSE_ENDR_RULE_STD_TYPE
    ADD CONSTRAINT FK_CRSE_ENDR_RULE_STD_STD_TYPE
    FOREIGN KEY (std_type_code)
    REFERENCES dbo.STD_TYPE_CODE (std_type_code)
go
ALTER TABLE dbo.CRSE_ENDR_RULE_STD_TYPE
    ADD CONSTRAINT FK_RULE_STD_CRSE_ENDR_RULE
    FOREIGN KEY (crse_endr_rule_id)
    REFERENCES dbo.CRSE_ENDR_RULE (crse_endr_rule_id)
go
ALTER TABLE dbo.CRSE_ENDR_SOP
    ADD CONSTRAINT FK_CRSE_ENDR_SOP_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.DEBTOR
    ADD CONSTRAINT FK_DEBTOR_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EVENT_ENRLMNT_ID
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EVENT_MERGE_RE
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EVENT_REASON
    FOREIGN KEY (reason_type)
    REFERENCES dbo.DIARY_EVENT_REASON (reason_type)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EV_FK_DIARY__DIARY_EV
    FOREIGN KEY (event_type)
    REFERENCES dbo.DIARY_EVENT_TYPE (event_type)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EV_FK_DIARY__PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.DIARY_EVENT
    ADD CONSTRAINT FK_DIARY_EV_U_FK_DIARY_EV
    FOREIGN KEY (update_type)
    REFERENCES dbo.DIARY_EVENT_UPDATE_TYPE (update_type)
go
ALTER TABLE dbo.DIGITAL_ENTRY
    ADD CONSTRAINT FK_DIGITAL_ENTRY_ASS_METHOD
    FOREIGN KEY (assessment_method)
    REFERENCES dbo.ASSESSMENT_METHOD (assessment_method)
go
ALTER TABLE dbo.DIGITAL_ENTRY
    ADD CONSTRAINT FK_DIGITAL_ENTRY_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.DIGITAL_ENTRY
    ADD CONSTRAINT FK_DIGITAL_ENTRY_RESULT
    FOREIGN KEY (result_id)
    REFERENCES dbo.RESULT (result_id)
go
ALTER TABLE dbo.DIGITAL_RESULT
    ADD CONSTRAINT FK_DIGITAL_RESULT_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.DOUBLE_DIP_STD_MAPPING
    ADD CONSTRAINT FK_DOUBLE_DIP_STD_MAPPING_MAPTO_STD
    FOREIGN KEY (std_mapping_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.DOUBLE_DIP_STD_MAPPING
    ADD CONSTRAINT FK_DOUBLE_DIP_STD_MAPPING_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.ELECTRONIC_ORDER_ITEM_TYPE
    ADD CONSTRAINT FK_ELEC_ORDR_ITEM_TYPE
    FOREIGN KEY (product_type_code)
    REFERENCES dbo.PRODUCT_TYPE (product_type_code)
go
ALTER TABLE dbo.ENDORSEMENT_VERSION
    ADD CONSTRAINT FK_ENDOR_VERSION_ENDOR
    FOREIGN KEY (endorsement_id)
    REFERENCES dbo.ENDORSEMENT (endorsement_id)
go
ALTER TABLE dbo.ENDR_RESULT_DETAIL
    ADD CONSTRAINT FK_ENDR_RESULT_DTL_ASSESS_TYPE
    FOREIGN KEY (assessment_type_code)
    REFERENCES dbo.ASSESSMENT_TYPE (assessment_type_code)
go
ALTER TABLE dbo.ENDR_RESULT_DETAIL
    ADD CONSTRAINT FK_ENDR_RESULT_DTL_CREDIT_CATG
    FOREIGN KEY (crse_endr_credit_catg_code)
    REFERENCES dbo.CRSE_ENDR_CREDIT_CATG (crse_endr_credit_catg_code)
go
ALTER TABLE dbo.ENDR_RESULT_DETAIL
    ADD CONSTRAINT FK_ENDR_RESULT_DTL_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.ENDR_RESULT_DETAIL
    ADD CONSTRAINT FK_ENDR_RSLT_CREDIT_ALLOC
    FOREIGN KEY (ce_credit_allocation_code)
    REFERENCES dbo.CE_CREDIT_ALLOCATION_CODE (ce_credit_allocation_code)
go
ALTER TABLE dbo.ENDR_RESULT_DETAIL
    ADD CONSTRAINT FK_ENDR_RSLT_DETL_CRSE_ENDR_RSL
    FOREIGN KEY (crse_endr_result_id)
    REFERENCES dbo.CRSE_ENDR_RESULT (crse_endr_result_id)
go
ALTER TABLE dbo.ENROLMENT_FEE
    ADD CONSTRAINT FK_ENROLMENT_FEE_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.ENROLMENT_FEE
    ADD CONSTRAINT FK_ENROLMENT_FEE_TYPE
    FOREIGN KEY (fee_type_code)
    REFERENCES dbo.FEE_TYPE (fee_type_code)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_ALLOCATION_RUN
    FOREIGN KEY (allocation_run_id)
    REFERENCES dbo.ALLOCATION_RUN (allocation_run_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_ASSESSMENT_CENTRE
    FOREIGN KEY (exam_centre_id,exam_centre_location)
    REFERENCES dbo.ASSESSMENT_CENTRE (moe_provider_id,location)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_BREACH_CATEGORY
    FOREIGN KEY (breach_category)
    REFERENCES dbo.BREACH_CATEGORY (breach_category)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_CONTEXT_MAP
    FOREIGN KEY (std_context_map_id,std_number)
    REFERENCES dbo.STD_CONTEXT_MAP (std_context_map_id,std_number)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_CREATE_BATCH
    FOREIGN KEY (created_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_ENROLMENT_YEAR
    FOREIGN KEY (enrolment_id,academic_year)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id,academic_year)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_FK_ENTRY_WITHDRAW
    FOREIGN KEY (withdrawn_method)
    REFERENCES dbo.WITHDRAWN_METHOD (withdrawn_method)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_MARKER_ALLOCATION_GRP
    FOREIGN KEY (marker_allocation_group_id)
    REFERENCES dbo.MARKER_ALLOCATION_GROUP (marker_allocation_group_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_MERGE_REQUEST
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_MISCONDUCT_STATUS
    FOREIGN KEY (misconduct_status)
    REFERENCES dbo.MISCONDUCT_STATUS (misconduct_status)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_MISCONDUCT_TYPE
    FOREIGN KEY (misconduct_type)
    REFERENCES dbo.MISCONDUCT_TYPE (misconduct_type)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_NEXT_MARKER_ALLOC_GRP
    FOREIGN KEY (next_marker_ag_id)
    REFERENCES dbo.MARKER_ALLOCATION_GROUP (marker_allocation_group_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_PAID_COD
    FOREIGN KEY (paid_code)
    REFERENCES dbo.PAID_CODE (paid_code)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_PROVIDER_STUDY
    FOREIGN KEY (study_provider_id,study_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_QFN
    FOREIGN KEY (qfn_number)
    REFERENCES dbo.QFN (qfn_number)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_REACTIVATING_BATCH
    FOREIGN KEY (reactivating_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_RECON_STATUS
    FOREIGN KEY (reconsideration_status)
    REFERENCES dbo.RECONSIDERATION_STATUS (reconsideration_status)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_SECONDARY_COURSE
    FOREIGN KEY (secondary_course_id)
    REFERENCES dbo.SECONDARY_COURSE (secondary_course_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_STD_VERS
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_UPDATE_BATCH
    FOREIGN KEY (updated_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_WD_METHOD
    FOREIGN KEY (loaded_method)
    REFERENCES dbo.WITHDRAWN_METHOD (withdrawn_method)
go
ALTER TABLE dbo.ENTRY
    ADD CONSTRAINT FK_ENTRY_WITHDRAWN_BATCH
    FOREIGN KEY (withdrawn_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.ENTRY_ASSISTANCE
    ADD CONSTRAINT FK_ENTRY_ASSISS_ASS_CODE
    FOREIGN KEY (assistance_code)
    REFERENCES dbo.ASSISTANCE_CODE (assistance_code)
go
ALTER TABLE dbo.ENTRY_ASSISTANCE
    ADD CONSTRAINT FK_ENTRY_SPEC_ASSIST_ID
    FOREIGN KEY (entry_spec_assist_id)
    REFERENCES dbo.ENTRY_SPEC_ASSIST (entry_spec_assist_id)
go
ALTER TABLE dbo.ENTRY_CONTEXT
    ADD CONSTRAINT FK_ENTRY_CONTEXT_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_CONTEXT
    ADD CONSTRAINT FK_ENTRY_CONTEXT_RESULT
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.ENTRY_CONTEXT
    ADD CONSTRAINT FK_ENTRY_CONTEXT_STD_CON_MAP
    FOREIGN KEY (std_context_map_id)
    REFERENCES dbo.STD_CONTEXT_MAP (std_context_map_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_ENTRY_PER_STATUS
    FOREIGN KEY (entry_personalisation_status)
    REFERENCES dbo.ENTRY_PERSONALISATION_STATUS (entry_personalisation_status)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_MARKER_ALL
    FOREIGN KEY (marker_allocation_group_id)
    REFERENCES dbo.MARKER_ALLOCATION_GROUP (marker_allocation_group_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_MARKER_PAN_AG
    FOREIGN KEY (marker_panel_ag_id)
    REFERENCES dbo.MARKER_PANEL_ALLOCATION_GRP (marker_panel_ag_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_PER_RUN
    FOREIGN KEY (personalisation_run_id)
    REFERENCES dbo.PERSONALISATION_RUN (personalisation_run_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_PRIOR_PERS_RUN
    FOREIGN KEY (personalisation_run_id_prior)
    REFERENCES dbo.PERSONALISATION_RUN (personalisation_run_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION
    ADD CONSTRAINT FK_ENTRY_PER_STD_VERSION
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_ENTRY_PER_SET_ASMT_CTR
    FOREIGN KEY (assessment_centre_id)
    REFERENCES dbo.ASSESSMENT_CENTRE (assessment_centre_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_ENTRY_PER_SET_MARKER_ALL
    FOREIGN KEY (marker_allocation_group_id)
    REFERENCES dbo.MARKER_ALLOCATION_GROUP (marker_allocation_group_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_ENTRY_PER_SET_PR_ASS_CENTRE
    FOREIGN KEY (assessment_centre_id_prior)
    REFERENCES dbo.ASSESSMENT_CENTRE (assessment_centre_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_ENTRY_PER_SET_STD_VERSION
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_ASSESSMENT_SESSION
    FOREIGN KEY (assessment_session_id)
    REFERENCES dbo.ASSESSMENT_SESSION (assessment_session_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_ENTRY_PERS_STATUS
    FOREIGN KEY (entry_personalisation_status)
    REFERENCES dbo.ENTRY_PERSONALISATION_STATUS (entry_personalisation_status)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_PERSONALISATION_RUN
    FOREIGN KEY (personalisation_run_id)
    REFERENCES dbo.PERSONALISATION_RUN (personalisation_run_id)
go
ALTER TABLE dbo.ENTRY_PERSONALISATION_SET
    ADD CONSTRAINT FK_EPS_PERSONALISATION_RUN_PR
    FOREIGN KEY (personalisation_run_id_prior)
    REFERENCES dbo.PERSONALISATION_RUN (personalisation_run_id)
go
ALTER TABLE dbo.ENTRY_REVIEW
    ADD CONSTRAINT FK_REVIEW_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_REVIEW
    ADD CONSTRAINT FK_REV_REASON_CODE
    FOREIGN KEY (review_reason_code)
    REFERENCES dbo.REVIEW_REASON_CODE (review_reason_code)
go
ALTER TABLE dbo.ENTRY_REVIEW
    ADD CONSTRAINT FK_REV_STATUS_CODE
    FOREIGN KEY (review_status_code)
    REFERENCES dbo.REVIEW_STATUS_CODE (review_status_code)
go
ALTER TABLE dbo.ENTRY_SEC_COURSE_HIST
    ADD CONSTRAINT FK_ENTRY_SEC_CRSE_HIS_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_SEC_COURSE_HIST
    ADD CONSTRAINT FK_ENTRY_SEC_CRSE_HIS_SEC_CRSE
    FOREIGN KEY (secondary_course_id)
    REFERENCES dbo.SECONDARY_COURSE (secondary_course_id)
go
ALTER TABLE dbo.ENTRY_SERIAL_NUMBER
    ADD CONSTRAINT FK_ENTRY_SERIAL_NUMBER_CONTEXT
    FOREIGN KEY (entry_context_id)
    REFERENCES dbo.ENTRY_CONTEXT (entry_context_id)
go
ALTER TABLE dbo.ENTRY_SERIAL_NUMBER
    ADD CONSTRAINT FK_ENTRY_SERIAL_NUMBER_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_SERIAL_NUMBER
    ADD CONSTRAINT FK_ENTRY_SERIAL_NUMBER_TYPE
    FOREIGN KEY (serial_number_type)
    REFERENCES dbo.ENTRY_SERIAL_NUMBER_TYPE (serial_number_type)
go
ALTER TABLE dbo.ENTRY_SERIAL_NUMBER
    ADD CONSTRAINT FK_ENTRY_SERIAL_NUMBER_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.ENTRY_SPEC_ASSIST
    ADD CONSTRAINT FK_ENTRY_SPEC_ASSIST_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ENTRY_SPEC_ASSIST
    ADD CONSTRAINT FK_ENTRY_SPEC_ASS_SCH_ASS_CODE
    FOREIGN KEY (school_assistance_code)
    REFERENCES dbo.SCHOOL_ASSISTANCE_CODE (school_assistance_code)
go
ALTER TABLE dbo.ENTRY_SPEC_ASSIST
    ADD CONSTRAINT FK_ENTRY_SPEC_ASS_SPEC_ASS_STA
    FOREIGN KEY (spec_assist_status_code)
    REFERENCES dbo.SPECIAL_ASSISTANCE_STATUS (spec_assist_status_code)
go
ALTER TABLE dbo.ENTRY_SPEC_ASSIST
    ADD CONSTRAINT FK_ENTRY_SPEC_AUDIT
    FOREIGN KEY (audit_tran_id)
    REFERENCES dbo.AUDIT_TRANSACTION (audit_tran_oid)
go
ALTER TABLE dbo.EQA_SETTING_HISTORY
    ADD CONSTRAINT FK_EQA_SETTING_HIS_EQA_SETTING
    FOREIGN KEY (eqa_setting_id)
    REFERENCES dbo.EQA_SETTING (eqa_setting_id)
go
ALTER TABLE dbo.ETHNICITY
    ADD CONSTRAINT FK_ETHNICITY_ETHNICITY_CODE
    FOREIGN KEY (ethnicity_code)
    REFERENCES dbo.ETHNICITY_CODE (ethnicity_code)
go
ALTER TABLE dbo.ETHNICITY
    ADD CONSTRAINT FK_ETHNICITY_MERGE_REQUEST
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.ETHNICITY
    ADD CONSTRAINT FK_ETHNICITY_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.ETHNICITY_CODE
    ADD CONSTRAINT FK_ETHNICITY_CODE_PARENT_CODE
    FOREIGN KEY (parent_ethnicity_code)
    REFERENCES dbo.ETHNICITY_CODE (ethnicity_code)
go
ALTER TABLE dbo.EXAM_ABSENT_SCRIPT
    ADD CONSTRAINT FK_EXAM_ABSENT_SCRIPT_LEARNER_ID
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.EXAM_ABSENT_SCRIPT
    ADD CONSTRAINT FK_EXAM_ABSENT_SCRIPT_NSN
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.EXAM_ATTENDANCE
    ADD CONSTRAINT FK_EXAM_ATTENDANCE_ENTRY_ID
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.EXAM_ATTENDANCE
    ADD CONSTRAINT FK_EXAM_ATTENDANCE_NSN
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.EXAM_CENTRE_ALLOC_RULE
    ADD CONSTRAINT FK_EXAM_CENTRE_ALL_RULE_CENTRE
    FOREIGN KEY (exam_centre_id)
    REFERENCES dbo.ASSESSMENT_CENTRE (assessment_centre_id)
go
ALTER TABLE dbo.EXAM_CENTRE_ALLOC_RULE
    ADD CONSTRAINT FK_EXAM_CENTRE_ALL_RULE_PROV
    FOREIGN KEY (moe_provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.EXAM_CENTRE_ALLOC_RULE
    ADD CONSTRAINT FK_EXAM_CENTRE_RULE_GENDER
    FOREIGN KEY (eca_gender_code)
    REFERENCES dbo.ECA_GENDER_CODE (eca_gender_code)
go
ALTER TABLE dbo.EXAM_CENTRE_ALLOC_RULE
    ADD CONSTRAINT FK_EXAM_CEN_ALL_RULE_PREV_CTR
    FOREIGN KEY (prev_exam_centre_id)
    REFERENCES dbo.ASSESSMENT_CENTRE (assessment_centre_id)
go
ALTER TABLE dbo.EXAM_CENTRE_WORKER
    ADD CONSTRAINT FK_EXAM_CENTRE_WORKER_ROLE
    FOREIGN KEY (exam_centre_worker_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.EXAM_MATERIAL
    ADD CONSTRAINT FK_EXAM_MATERIAL_PERSON_TYPE
    FOREIGN KEY (personalisation_type)
    REFERENCES dbo.PERSONALISATION_TYPE (personalisation_type)
go
ALTER TABLE dbo.EXAM_MATERIAL
    ADD CONSTRAINT FK_RESOURCE_RESOURCE_TYPE
    FOREIGN KEY (exam_material_type)
    REFERENCES dbo.EXAM_MATERIAL_TYPE (exam_material_type)
go
ALTER TABLE dbo.EXAM_MATERIAL
    ADD CONSTRAINT FK_RESOURCE_STATUS
    FOREIGN KEY (exam_material_status)
    REFERENCES dbo.EXAM_MATERIAL_STATUS (exam_material_status)
go
ALTER TABLE dbo.EXAM_MATERIAL_CMPT
    ADD CONSTRAINT FK_EX_MTL_CMPT_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.EXAM_MATERIAL_CMPT
    ADD CONSTRAINT FK_EX_MTL_CMPT_ASSESS_SESS_TYP
    FOREIGN KEY (assessment_session_type)
    REFERENCES dbo.ASSESSMENT_SESSION_TYPE (assessment_session_type)
go
ALTER TABLE dbo.EXAM_MATERIAL_CMPT
    ADD CONSTRAINT FK_EX_MTL_CMPT_EXAM_MTL_TYPE
    FOREIGN KEY (exam_material_type)
    REFERENCES dbo.EXAM_MATERIAL_TYPE (exam_material_type)
go
ALTER TABLE dbo.EXAM_MATERIAL_CMPT
    ADD CONSTRAINT FK_EX_MTL_CMPT_EX_MTL_FILE_INP
    FOREIGN KEY (exam_mtl_file_input_id)
    REFERENCES dbo.EXAM_MTL_FILE_INPUT (exam_mtl_file_input_id)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_ADDL_VOL
    ADD CONSTRAINT FK_EXM_MTL_ADDL_VOL_ASSESS_CTR
    FOREIGN KEY (exam_centre_id,exam_centre_location)
    REFERENCES dbo.ASSESSMENT_CENTRE (moe_provider_id,location)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_ADDL_VOL
    ADD CONSTRAINT FK_EXM_MTL_A_VOL_SESS_A_VOL
    FOREIGN KEY (session_pre_pers_addl_vol_id)
    REFERENCES dbo.SESSION_PRE_PERS_ADDL_VOL (session_pre_pers_addl_vol_id)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_ADDL_VOL
    ADD CONSTRAINT FK_EX_MTL_ADDL_VOL_ADDL_VOL_TY
    FOREIGN KEY (addl_volume_type_code)
    REFERENCES dbo.ADDL_VOLUME_TYPE (addl_volume_type_code)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_ADDL_VOL
    ADD CONSTRAINT FK_EX_MTL_ADDL_VOL_EX_MTL_CMPT
    FOREIGN KEY (exam_material_cmpt_id)
    REFERENCES dbo.EXAM_MATERIAL_CMPT (exam_material_cmpt_id)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_CHG_HIST
    ADD CONSTRAINT FK_EXMTL_CHG_HS_EXMTL_CHG_STA
    FOREIGN KEY (exam_mtl_cmpt_status_code)
    REFERENCES dbo.EXAM_MTL_CMPT_CHG_STATUS (exam_mtl_cmpt_status_code)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_CHG_HIST
    ADD CONSTRAINT FK_EX_MTL_CHG_HS_EX_MTL_CMPT
    FOREIGN KEY (exam_material_cmpt_id)
    REFERENCES dbo.EXAM_MATERIAL_CMPT (exam_material_cmpt_id)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_CHG_HIST
    ADD CONSTRAINT FK_EX_MTL_CHG_HS_EX_MTL_CMPT_P
    FOREIGN KEY (prev_exam_material_cmpt_id)
    REFERENCES dbo.EXAM_MATERIAL_CMPT (exam_material_cmpt_id)
go
ALTER TABLE dbo.EXAM_MTL_CMPT_CHG_HIST
    ADD CONSTRAINT FK_EX_MTL_CMPT_CHG_EXMTL_FL_IN
    FOREIGN KEY (exam_mtl_file_input_id)
    REFERENCES dbo.EXAM_MTL_FILE_INPUT (exam_mtl_file_input_id)
go
ALTER TABLE dbo.EXAM_MTL_EVENT
    ADD CONSTRAINT FK_EXAM_MTL_EVENT_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.EXAM_MTL_FILE_INPUT
    ADD CONSTRAINT FK_EX_MTL_FILE_INP_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.EXCLUDED_ASSISTANCE_CODE
    ADD CONSTRAINT FK_EXCLUDED_ASSISTANCE_ASSIST
    FOREIGN KEY (assistance_code)
    REFERENCES dbo.ASSISTANCE_CODE (assistance_code)
go
ALTER TABLE dbo.EXCLUDED_ASSISTANCE_CODE
    ADD CONSTRAINT FK_EXCLUDED_ASSISTANCE_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.EXCLUDED_SEARCH_WORDS
    ADD CONSTRAINT FK_EXCL_SEARCH_WD_SEARCH_CONT
    FOREIGN KEY (search_context_code)
    REFERENCES dbo.SEARCH_CONTEXT (search_context_code)
go
ALTER TABLE dbo.EXT_TASK_PROV_CRIT_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_CRIT_WK_ACRED_ITEM
    FOREIGN KEY (accredited_item_id)
    REFERENCES dbo.ACCREDITED_ITEM (accredited_item_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_CRIT_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_CRIT_WORK_EXT_RUN
    FOREIGN KEY (accreditation_extension_run_id)
    REFERENCES dbo.ACCREDITATION_EXTENSION_RUN (accreditation_extension_run_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_EXTN_WORK_EXT_RUN
    FOREIGN KEY (accreditation_extension_run_id)
    REFERENCES dbo.ACCREDITATION_EXTENSION_RUN (accreditation_extension_run_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WK_ACRED_ITEM
    FOREIGN KEY (accredited_item_id)
    REFERENCES dbo.ACCREDITED_ITEM (accredited_item_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WK_ACRED_STAT
    FOREIGN KEY (accredited_item_status)
    REFERENCES dbo.ACCREDITED_ITEM_STATUS (accredited_item_status)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WK_CASE
    FOREIGN KEY (perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WORK_CFN_CAT
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WORK_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WORK_PROVIDER
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.EXT_TASK_PROV_EXTN_WORK_TABLE
    ADD CONSTRAINT FK_EXT_TASK_PROV_WORK_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE
    ADD CONSTRAINT FK_EX_MARKER_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.EX_MARKER_PAGE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_DISPLAY_TYPE
    FOREIGN KEY (page_display_type_code)
    REFERENCES dbo.PAGE_DISPLAY_TYPE (page_display_type_code)
go
ALTER TABLE dbo.EX_MARKER_PAGE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_PROVIDER
    FOREIGN KEY (study_provider_id,study_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.EX_MARKER_PAGE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_SCHED_TYPE
    FOREIGN KEY (schedule_type)
    REFERENCES dbo.SCHEDULE_TYPE (schedule_type)
go
ALTER TABLE dbo.EX_MARKER_PAGE
    ADD CONSTRAINT FK_EX_MARKER_PG_LN_SORT_ORDER
    FOREIGN KEY (line_sort_order_code)
    REFERENCES dbo.LINE_SORT_ORDER_CODE (line_sort_order_code)
go
ALTER TABLE dbo.EX_MARKER_PAGE_HISTORY
    ADD CONSTRAINT FK_EX_MARKER_PAGE_HISTORY_ID
    FOREIGN KEY (ex_marker_page_id)
    REFERENCES dbo.EX_MARKER_PAGE (ex_marker_page_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_HISTORY
    ADD CONSTRAINT FK_EX_MARKER_PAGE_HISTORY_NEW
    FOREIGN KEY (marker_id_new)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_HISTORY
    ADD CONSTRAINT FK_EX_MARKER_PAGE_HISTORY_OLD
    FOREIGN KEY (marker_id_old)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_LINE
    FOREIGN KEY (ex_marker_page_id)
    REFERENCES dbo.EX_MARKER_PAGE (ex_marker_page_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_LINE_ORG_TYP
    FOREIGN KEY (line_origin_type_code)
    REFERENCES dbo.LINE_ORIGIN_TYPE (line_origin_type_code)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_NSN
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PAGE_STD_VER_NO
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MARKER_PG_LINE_COMP_LK
    FOREIGN KEY (result_component_link_id)
    REFERENCES dbo.RESULT_COMPONENT_LINK (result_component_link_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MRK_PG_RESULT_CDE_DBLE
    FOREIGN KEY (result_code_double)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE
    ADD CONSTRAINT FK_EX_MRK_PG_RESULT_CDE_INIT
    FOREIGN KEY (result_code_initial)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE_HISTORY
    ADD CONSTRAINT FK_EX_MARKER_PAGE_LINE_HS_NEW
    FOREIGN KEY (marker_id_new)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE_HISTORY
    ADD CONSTRAINT FK_EX_MARKER_PAGE_LINE_HS_OLD
    FOREIGN KEY (marker_id_old)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_LINE_HISTORY
    ADD CONSTRAINT FK_EX_MR_PG_LN_HS_EX_MR_PG_LN
    FOREIGN KEY (ex_marker_page_line_id)
    REFERENCES dbo.EX_MARKER_PAGE_LINE (ex_marker_page_line_id)
go
ALTER TABLE dbo.EX_MARKER_PAGE_RUN_STATUS
    ADD CONSTRAINT FK_EX_MARKER_PGE_RUN_STA_SCHED
    FOREIGN KEY (schedule_type)
    REFERENCES dbo.SCHEDULE_TYPE (schedule_type)
go
ALTER TABLE dbo.EX_MRKR_BATCH_INPUT
    ADD CONSTRAINT FK_EX_MRKR_PG_BATCH_IN_STATUS
    FOREIGN KEY (batch_input_status_code)
    REFERENCES dbo.PAGE_INPUT_STATUS (page_input_status_code)
go
ALTER TABLE dbo.EX_MRKR_PAGE_INPUT
    ADD CONSTRAINT FK_EX_MRKR_PG_INP_BATCH_INP
    FOREIGN KEY (ex_mrkr_batch_input_id)
    REFERENCES dbo.EX_MRKR_BATCH_INPUT (ex_mrkr_batch_input_id)
go
ALTER TABLE dbo.EX_MRKR_PAGE_LINE_INPUT
    ADD CONSTRAINT FK_EX_MRKR_PG_LN_EX_MRKR_PG_IN
    FOREIGN KEY (ex_mrkr_page_input_id)
    REFERENCES dbo.EX_MRKR_PAGE_INPUT (ex_mrkr_page_input_id)
go
ALTER TABLE dbo.EX_MRKR_PAGE_LINE_INPUT
    ADD CONSTRAINT FK_EX_MRKR_PG_LN_INPUT_STATUS
    FOREIGN KEY (page_line_input_status_code)
    REFERENCES dbo.PAGE_INPUT_STATUS (page_input_status_code)
go
ALTER TABLE dbo.FEE_STRUCTURE
    ADD CONSTRAINT FK_FEE_STRUCTURE_FEE_TYPE
    FOREIGN KEY (fee_type_code)
    REFERENCES dbo.FEE_TYPE (fee_type_code)
go
ALTER TABLE dbo.FILE_LOCATION
    ADD CONSTRAINT FK_FILE_LOC_FK_FILE_L_DIARY_EV
    FOREIGN KEY (diary_event_id)
    REFERENCES dbo.DIARY_EVENT (diary_event_id)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FINANCE_TRANSACTION_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FINANCE_TRANS_PROVIDER
    FOREIGN KEY (provider_id,provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FINANCE_TRAN_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FIN_TRANS_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FIN_TRANS_MERGE_RE
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FIN_TRANS_STATUS_CODE
    FOREIGN KEY (fin_transac_status_code)
    REFERENCES dbo.FIN_TRANSACTION_STATUS_CODE (fin_transac_status_code)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_FIN_TRANS_TYPE_CODE
    FOREIGN KEY (fin_transac_type_code)
    REFERENCES dbo.FIN_TRANSACTION_TYPE_CODE (fin_transac_type_code)
go
ALTER TABLE dbo.FINANCE_TRANSACTION
    ADD CONSTRAINT FK_PARENT_FINANCE_TRANSACTION
    FOREIGN KEY (parent_transaction_id)
    REFERENCES dbo.FINANCE_TRANSACTION (transaction_id)
go
ALTER TABLE dbo.FINANCE_TRANSACTION_NSN
    ADD CONSTRAINT FK_FIN_NSN_FINANCE_TRANSACTION
    FOREIGN KEY (transaction_id)
    REFERENCES dbo.FINANCE_TRANSACTION (transaction_id)
go
ALTER TABLE dbo.FINANCIAL_DETAIL
    ADD CONSTRAINT FK_DETAIL_TYPE
    FOREIGN KEY (financial_detail_type)
    REFERENCES dbo.FINANCIAL_DETAIL_TYPE (financial_detail_type)
go
ALTER TABLE dbo.FINANCIAL_DETAIL
    ADD CONSTRAINT FK_FINANCIAL_DETAIL_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.FORBIDDEN_LEARNER
    ADD CONSTRAINT FK_FORBIDDEN_LEARNER_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.FORBIDDEN_LEARNER
    ADD CONSTRAINT FK_FORBIDDEN_LEARNER_MKR
    FOREIGN KEY (marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.FORBIDDEN_PROVIDER
    ADD CONSTRAINT FK_FORBIDDEN_PROVIDER_PROVIDER
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.FORBIDDEN_PROVIDER
    ADD CONSTRAINT FK_FORBIDDEN_PROV_MKR
    FOREIGN KEY (marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.GLBL_GROWTH_ALW_PRM
    ADD CONSTRAINT FK_GLBL_GWT_PRM_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.GLOBAL_BUFFER_PRM
    ADD CONSTRAINT FK_GLBL_BFR_PRM_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.GLOBAL_BUFFER_PRM
    ADD CONSTRAINT FK_GLBL_BFR_PRM_ASSESS_SESS_CG
    FOREIGN KEY (assess_sess_catg_code)
    REFERENCES dbo.ASSESS_SESS_CATG (assess_sess_catg_code)
go
ALTER TABLE dbo.GLOBAL_NON_BUFFER_PRM
    ADD CONSTRAINT FK_GLBL_NBFR_PRM_ACADEMIC_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.GLOBAL_NON_BUFFER_PRM
    ADD CONSTRAINT FK_GLBL_NBFR_PRM_EXAM_MTL_TYPE
    FOREIGN KEY (exam_material_type)
    REFERENCES dbo.EXAM_MATERIAL_TYPE (exam_material_type)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_BATCH_INP
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_BATCH_REF
    FOREIGN KEY (batch_ref)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_COURSE
    FOREIGN KEY (secondary_course_input_id)
    REFERENCES dbo.SECONDARY_COURSE_INPUT (secondary_course_input_id)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_ERROR_CDE
    FOREIGN KEY (batch_error_code)
    REFERENCES dbo.BATCH_ERROR_CODE (batch_error_code)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_LEARNER
    FOREIGN KEY (learner_input_id)
    REFERENCES dbo.LEARNER_INPUT (learner_input_id)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_MARK_INP
    FOREIGN KEY (mark_input_id)
    REFERENCES dbo.MARK_INPUT (mark_input_id)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_SEVERITY
    FOREIGN KEY (severity_code)
    REFERENCES dbo.SEVERITY (severity_code)
go
ALTER TABLE dbo.INPUT_BATCH_ERROR
    ADD CONSTRAINT FK_INPUT_BATCH_ERROR_STANDARD
    FOREIGN KEY (standard_input_id)
    REFERENCES dbo.STANDARD_INPUT (standard_input_id)
go
ALTER TABLE dbo.IR330
    ADD CONSTRAINT FK_IR330_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.IR330
    ADD CONSTRAINT FK_IR330_TAX_CODE
    FOREIGN KEY (tax_code)
    REFERENCES dbo.TAX_CODE (tax_code)
go
ALTER TABLE dbo.IWI
    ADD CONSTRAINT FK_IWI_IWI_CODE
    FOREIGN KEY (iwi_code)
    REFERENCES dbo.IWI_CODE (iwi_code)
go
ALTER TABLE dbo.IWI
    ADD CONSTRAINT FK_IWI_MERGE_REQUEST
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.IWI
    ADD CONSTRAINT FK_IWI_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.JMS_ROLES
    ADD CONSTRAINT FK_JMS_ROLES_JMS_USERS
    FOREIGN KEY (userid)
    REFERENCES dbo.JMS_USERS (userid)
go
ALTER TABLE dbo.KEY_DATE
    ADD CONSTRAINT FK_KEY_DATE_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.KEY_DATE
    ADD CONSTRAINT FK_KEY_DATE_KEY_DATE_TYPE
    FOREIGN KEY (key_date_type_code)
    REFERENCES dbo.KEY_DATE_TYPE (key_date_type_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_HOOKFEE_OVERRIDE
    FOREIGN KEY (hookfee_override_type)
    REFERENCES dbo.HOOKFEE_OVERRIDE_TYPE (hookfee_override_type)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_COUNTRY_CODE
    FOREIGN KEY (country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_CREATE_BATCH
    FOREIGN KEY (created_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_FK_LEARNE_NAME_DOB
    FOREIGN KEY (name_dob_verification_code)
    REFERENCES dbo.NAME_DOB_VER_CODE (name_dob_verification_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_FK_LEARNE_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_FK_LEARNE_PERORG_R
    FOREIGN KEY (learner_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_FK_LEARNE_RES_STAT
    FOREIGN KEY (res_stat_verification_code)
    REFERENCES dbo.RES_STAT_VERIFICATION_CODE (res_stat_verification_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_HOLD_STATE_CODE
    FOREIGN KEY (hold_state_code)
    REFERENCES dbo.HOLD_STATE_CODE (hold_state_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_HOOKON_BATCH
    FOREIGN KEY (hookon_batch_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_MASTER_LEARNER
    FOREIGN KEY (master_learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_MERGE_REQUEST2
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_NSI_STAT
    FOREIGN KEY (nsi_status_code)
    REFERENCES dbo.NSI_STATUS_CODE (nsi_status_code)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_PROVIDER
    FOREIGN KEY (hookon_provider,hookon_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_LEARNER_UPDATE_BATCH
    FOREIGN KEY (updated_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER
    ADD CONSTRAINT FK_SCHOOL_QUALCHECK_STATUS
    FOREIGN KEY (school_qualcheck_status)
    REFERENCES dbo.SCHOOL_QUALCHECK_STATUS (school_qualcheck_status_code)
go
ALTER TABLE dbo.LEARNER_ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_LEARNER_ASSESS_CTR_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_LEARNER_ASS_CENTRE_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.LEARNER_ASSESSMENT_CENTRE
    ADD CONSTRAINT FK_LEARNER_ASS_CTR_ASSESS_CTR
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.ASSESSMENT_CENTRE (moe_provider_id,location)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_FA_APPROVED
    FOREIGN KEY (fin_assist_approved_code)
    REFERENCES dbo.FIN_ASSIST_APPROVED (fin_assist_approved_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_FA_TYPE
    FOREIGN KEY (fin_assist_type_code)
    REFERENCES dbo.FIN_ASSIST_TYPE (fin_assist_type_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_LEAVING_CODE
    FOREIGN KEY (leaving_code)
    REFERENCES dbo.LEAVING_CODE (leaving_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_MOE_YEAR
    FOREIGN KEY (moe_year_level_code)
    REFERENCES dbo.MOE_YEAR_LEVEL_CODE (moe_year_level_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_STUDENT_TYPE
    FOREIGN KEY (student_type)
    REFERENCES dbo.STUDENT_TYPE (student_type)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_WD_BATCH
    FOREIGN KEY (first_wd_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_ENROLMENT_WD_METHOD
    FOREIGN KEY (withdrawn_method)
    REFERENCES dbo.WITHDRAWN_METHOD (withdrawn_method)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_EXCEPTION_ORN_TYPE
    FOREIGN KEY (exception_orn_type_code)
    REFERENCES dbo.EXCEPTION_ORN_TYPE (exception_orn_type_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_MERGE_REQ
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_PAID_CODE
    FOREIGN KEY (paid_code)
    REFERENCES dbo.PAID_CODE (paid_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROLMENT_STATUS
    FOREIGN KEY (enrolment_status_code)
    REFERENCES dbo.ENROLMENT_STATUS (enrolment_status_code)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROL_FIRST_BATCH
    FOREIGN KEY (first_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LEARNER_ENROL_LAST_BATCH
    FOREIGN KEY (last_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER_ENROLMENT
    ADD CONSTRAINT FK_LRNR_ENRL_CRSE_ENDR_CHK_STA
    FOREIGN KEY (crse_endr_chk_status_code)
    REFERENCES dbo.CRSE_ENDR_CHK_STATUS (crse_endr_chk_status_code)
go
ALTER TABLE dbo.LEARNER_ENROL_SPEC_ASSIST
    ADD CONSTRAINT FK_LEARNER_ENROL_SPEC_ASSIST
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.LEARNER_INPUT
    ADD CONSTRAINT FK_LEARNER_INPUT_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.LEARNER_INPUT
    ADD CONSTRAINT FK_LEARNER_INPUT_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_INPUT
    ADD CONSTRAINT FK_LEARNER_INPUT_MATCHING_RES
    FOREIGN KEY (matching_result_code)
    REFERENCES dbo.MATCHING_RESULT_CODE (matching_result_code)
go
ALTER TABLE dbo.LEARNER_INPUT
    ADD CONSTRAINT FK_LEARNER_INPUT_QC_STATUS
    FOREIGN KEY (qual_check_status)
    REFERENCES dbo.QUAL_CHECK_STATUS_CODE (qual_check_status_code)
go
ALTER TABLE dbo.LEARNER_INPUT
    ADD CONSTRAINT FK_LEARNER_INPUT_QFN_ACHIEVED
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.LEARNER_INPUT_MATCH
    ADD CONSTRAINT FK_LEARNER_INPUT_MATCH_LEARNE
    FOREIGN KEY (learner_input_id)
    REFERENCES dbo.LEARNER_INPUT (learner_input_id)
go
ALTER TABLE dbo.LEARNER_INPUT_MATCH
    ADD CONSTRAINT FK_LEARNER_INPUT_MATCH_LEARNER
    FOREIGN KEY (nzqa_learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_INPUT_MATCH
    ADD CONSTRAINT FK_LEARNER_INP_MATCH_NAME_DOB
    FOREIGN KEY (name_dob_verification_code)
    REFERENCES dbo.NAME_DOB_VER_CODE (name_dob_verification_code)
go
ALTER TABLE dbo.LEARNER_INPUT_MATCH
    ADD CONSTRAINT FK_LEARNER_INP_MATCH_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.LEARNER_INPUT_MATCH
    ADD CONSTRAINT FK_LEARNER_INP_MATCH_RES_STAT
    FOREIGN KEY (res_stat_verification_code)
    REFERENCES dbo.RES_STAT_VERIFICATION_CODE (res_stat_verification_code)
go
ALTER TABLE dbo.LEARNER_MAINTENANCE_RESULT
    ADD CONSTRAINT FK_LEARNER_MAINT_RESULT_DIARY
    FOREIGN KEY (diary_event_id)
    REFERENCES dbo.DIARY_EVENT (diary_event_id)
go
ALTER TABLE dbo.LEARNER_MAINTENANCE_RESULT
    ADD CONSTRAINT FK_LEARNER_MAINT_RESULT_PROV
    FOREIGN KEY (moe_provider_id,provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.LEARNER_MAINTENANCE_RESULT
    ADD CONSTRAINT FK_LEARNER_MAINT_RES_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_SORT_CODE
    ADD CONSTRAINT FK_LEARNER_SORT_CODE_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_SORT_CODE
    ADD CONSTRAINT FK_LEARNER_SORT_CODE_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.LEARNER_STATISTIC
    ADD CONSTRAINT FK_LEARNER_ID
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.LEARNER_STATISTIC
    ADD CONSTRAINT FK_LEARN_STAT_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.LEARNER_STATISTIC
    ADD CONSTRAINT FK_STATISTIC_TYPE
    FOREIGN KEY (statistic_type_code)
    REFERENCES dbo.LEARNER_STATISTIC_TYPE (statistic_type_code)
go
ALTER TABLE dbo.LODGEMENT_DETAIL
    ADD CONSTRAINT FK_LDGM_DETL_LRNR_ENRL
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.LODGEMENT_DETAIL
    ADD CONSTRAINT FK_OUTSDNG_FEE_LDGM_LDGM_DETL
    FOREIGN KEY (outstanding_fee_lodgement_id)
    REFERENCES dbo.OUTSTANDING_FEE_LODGEMENT (outstanding_fee_lodgement_id)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_ACTUAL_MARKER
    FOREIGN KEY (actual_marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_COUNTRY_CODE
    FOREIGN KEY (oe_country_code)
    REFERENCES dbo.COUNTRY_CODE (country_short_code)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_MARKER_SUB_STATUS
    FOREIGN KEY (marker_submission_status)
    REFERENCES dbo.MARKER_SUBMISSION_STATUS (marker_submission_status)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_PROVIDER
    FOREIGN KEY (moe_provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_REGION
    FOREIGN KEY (region_code)
    REFERENCES dbo.REGION (region_code)
go
ALTER TABLE dbo.MARKER
    ADD CONSTRAINT FK_MARKER_RETURN_TYPE
    FOREIGN KEY (return_type)
    REFERENCES dbo.RETURN_TYPE (return_type)
go
ALTER TABLE dbo.MARKER_ALLOCATION_GROUP
    ADD CONSTRAINT FK_MARKER_AG_MARKER_PANEL_AG
    FOREIGN KEY (marker_panel_ag_id)
    REFERENCES dbo.MARKER_PANEL_ALLOCATION_GRP (marker_panel_ag_id)
go
ALTER TABLE dbo.MARKER_ALLOCATION_GROUP
    ADD CONSTRAINT FK_MARKER_ALLOC_GRP_MPM
    FOREIGN KEY (panel_member_id)
    REFERENCES dbo.MARKER_PANEL_MEMBER (panel_member_id)
go
ALTER TABLE dbo.MARKER_CODE
    ADD CONSTRAINT FK_MARKER_CODE_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.MARKER_CODE_SUFFIX
    ADD CONSTRAINT FK_MARKER_CODE_SUFFIX_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.MARKER_CODE_SUFFIX
    ADD CONSTRAINT FK_MARKER_CODE_SUFFIX_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.MARKER_PANEL
    ADD CONSTRAINT FK_MARKER_PANEL_REGION
    FOREIGN KEY (region_code)
    REFERENCES dbo.REGION (region_code)
go
ALTER TABLE dbo.MARKER_PANEL
    ADD CONSTRAINT FK_MARKER_PANEL_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.MARKER_PANEL_ALLOCATION_GRP
    ADD CONSTRAINT FK_MARKER_PANEL
    FOREIGN KEY (panel_id)
    REFERENCES dbo.MARKER_PANEL (panel_id)
go
ALTER TABLE dbo.MARKER_PANEL_ALLOCATION_GRP
    ADD CONSTRAINT FK_MARKER_P_ALL_GRP_ALL_GRP
    FOREIGN KEY (allocation_group_id)
    REFERENCES dbo.ALLOCATION_GROUP (allocation_group_id)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER
    ADD CONSTRAINT FK_MARKER_PANEL_MEMB_MP
    FOREIGN KEY (panel_id)
    REFERENCES dbo.MARKER_PANEL (panel_id)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER
    ADD CONSTRAINT FK_MARKER_P_MARKER_REASON
    FOREIGN KEY (mpmsr_code)
    REFERENCES dbo.MARKER_PANEL_MEMBER_ST_REASON (mpmsr_code)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER
    ADD CONSTRAINT FK_MARKER_P_MEMBER_MARKER
    FOREIGN KEY (marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER
    ADD CONSTRAINT FK_MARKER_P_MEMBER_MARKER_C
    FOREIGN KEY (marker_category)
    REFERENCES dbo.MARKER_CATEGORY (marker_category)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER
    ADD CONSTRAINT FK_MARKER_P_MEMBER_STATUS
    FOREIGN KEY (mpm_status)
    REFERENCES dbo.MARKER_PANEL_MEMBER_STATUS (mpm_status)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER_ST_R_COMBO
    ADD CONSTRAINT FK_MARKER_PANEL_MEMBER_ST_R
    FOREIGN KEY (mpmsr_code)
    REFERENCES dbo.MARKER_PANEL_MEMBER_ST_REASON (mpmsr_code)
go
ALTER TABLE dbo.MARKER_PANEL_MEMBER_ST_R_COMBO
    ADD CONSTRAINT FK_MARKER_PANEL_MEMBER_ST_S
    FOREIGN KEY (mpm_status)
    REFERENCES dbo.MARKER_PANEL_MEMBER_STATUS (mpm_status)
go
ALTER TABLE dbo.MARKER_STD_CONTEXT_MAP
    ADD CONSTRAINT FK_MARKER_STD_CONTEXT_MAP_MKR
    FOREIGN KEY (marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARKER_STD_CONTEXT_MAP
    ADD CONSTRAINT FK_STD_STD_CONTEXT_MAP
    FOREIGN KEY (std_context_map_id)
    REFERENCES dbo.STD_CONTEXT_MAP (std_context_map_id)
go
ALTER TABLE dbo.MARKER_TRANSFER_HISTORY
    ADD CONSTRAINT FK_FROM_MARKER_REF
    FOREIGN KEY (from_marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARKER_TRANSFER_HISTORY
    ADD CONSTRAINT FK_MARKER_TRANS_HIST_ORIG_MKR
    FOREIGN KEY (original_marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARKER_TRANSFER_HISTORY
    ADD CONSTRAINT FK_TO_MARKER_REF
    FOREIGN KEY (to_marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.MARK_INPUT
    ADD CONSTRAINT FK_MARK_INPUT_BATCH_INPUT
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.MEMO_OF_AGREEMENT
    ADD CONSTRAINT FK_MEMO_OF_AGREEMENT_ACA_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.MEMO_OF_AGREEMENT
    ADD CONSTRAINT FK_MEMO_OF_AGREEMENT_PROVIDER
    FOREIGN KEY (moe_provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.MERGE_REQUEST
    ADD CONSTRAINT FK_MERGE_REQUEST_MSTER_LEARNER
    FOREIGN KEY (master_learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.MERGE_REQUEST
    ADD CONSTRAINT FK_MERGE_REQUEST_NSI_INST_CODE
    FOREIGN KEY (nsi_instruction_code)
    REFERENCES dbo.NSI_INSTRUCTION_CODE (nsi_instruction_code)
go
ALTER TABLE dbo.MERGE_REQUEST
    ADD CONSTRAINT FK_MERGE_REQUEST_SLAVE_LEARNER
    FOREIGN KEY (slave_learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.MERGE_REQUEST_STATUS_HISTORY
    ADD CONSTRAINT FK_MERGE_REQ_STATUS_CODE_HIST
    FOREIGN KEY (merge_request_status_code)
    REFERENCES dbo.MERGE_REQUEST_STATUS_CODE (merge_request_status_code)
go
ALTER TABLE dbo.MERGE_REQUEST_STATUS_HISTORY
    ADD CONSTRAINT FK_MERGE_REQ_STATUS_HIST2
    FOREIGN KEY (request_id)
    REFERENCES dbo.MERGE_REQUEST (request_id)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_PLAN
    ADD CONSTRAINT FK_ASS_PLAN_STATUS_CODE
    FOREIGN KEY (assessment_plan_status_code)
    REFERENCES dbo.MOD_ASSESS_PLAN_STATUS_CODE (assessment_plan_status_code)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_PLAN
    ADD CONSTRAINT FK_MODERATION_ASS_PLAN_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_PLAN
    ADD CONSTRAINT FK_MOD_ASS_PLAN_PROVIDER
    FOREIGN KEY (moe_provider_id,provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_STD
    ADD CONSTRAINT FK_MODERATI_FK_ASS_STD_STAT
    FOREIGN KEY (assessment_std_status_code)
    REFERENCES dbo.MOD_ASSESS_STD_STATUS_CODE (assessment_std_status_code)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_STD
    ADD CONSTRAINT FK_MOD_ASS_STD_MOD_REPORT
    FOREIGN KEY (latest_report_id)
    REFERENCES dbo.MODERATION_REPORT (moderation_report_id)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_STD
    ADD CONSTRAINT FK_MOD_ASS_STD_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_STD
    ADD CONSTRAINT FK_MOD_ASS_SUBJECT_ID
    FOREIGN KEY (assessment_subject_id)
    REFERENCES dbo.MODERATION_ASSESSMENT_SUBJ (assessment_subject_id)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_SUBJ
    ADD CONSTRAINT FK_MODERATION_ASS_PLAN_ID
    FOREIGN KEY (assessment_plan_id)
    REFERENCES dbo.MODERATION_ASSESSMENT_PLAN (assessment_plan_id)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_SUBJ
    ADD CONSTRAINT FK_MODERATI_FK_ASS_SU_MOD_ASSE
    FOREIGN KEY (assessment_subj_status_code)
    REFERENCES dbo.MOD_ASSESS_SUBJ_STATUS_CODE (assessment_subj_status_code)
go
ALTER TABLE dbo.MODERATION_ASSESSMENT_SUBJ
    ADD CONSTRAINT FK_MOD_ASS_SUBJ_STD_GROUP_ID
    FOREIGN KEY (std_group_id)
    REFERENCES dbo.STD_GROUP (std_group_id)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_APPEAL_MOD_ROLE_ID_1
    FOREIGN KEY (appeal_mod_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_CHECK_MOD_ROLE_ID_1
    FOREIGN KEY (check_mod_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MODERATION_ASSESSMENT_ID
    FOREIGN KEY (assessment_std_id)
    REFERENCES dbo.MODERATION_ASSESSMENT_STD (assessment_std_id)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_MAT_STATUS_CODE
    FOREIGN KEY (materials_status_code)
    REFERENCES dbo.MODERATION_MAT_STATUS_CODE (materials_status_code)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_MAT_TYPE_CODE
    FOREIGN KEY (materials_type_code)
    REFERENCES dbo.MODERATION_MAT_TYPE_CODE (materials_type_code)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_REPORT_CHECK_MOD_STATUS
    FOREIGN KEY (check_mod_select_status)
    REFERENCES dbo.CHECK_MOD_SELECT_STATUS (check_mod_select_status)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_REPORT_STATUS_CODE
    FOREIGN KEY (mod_report_status_code)
    REFERENCES dbo.MOD_REPORT_STATUS_CODE (mod_report_status_code)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_REPORT_TYPE_CODE
    FOREIGN KEY (mod_report_type_code)
    REFERENCES dbo.MOD_REPORT_TYPE_CODE (mod_report_type_code)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_ROLE_ID_1
    FOREIGN KEY (moderator_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MODERATION_REPORT
    ADD CONSTRAINT FK_MOD_SUBMISSION_DATE_2
    FOREIGN KEY (submission_date_id)
    REFERENCES dbo.MODERATION_SUBMISSION_DATE (submission_date_id)
go
ALTER TABLE dbo.MODERATION_REPORT_COMPONENT
    ADD CONSTRAINT FK_MODERATION_COMP_TYPE
    FOREIGN KEY (component_type_code)
    REFERENCES dbo.MOD_REPORT_COMP_TYPE_CODE (component_type_code)
go
ALTER TABLE dbo.MODERATION_REPORT_COMPONENT
    ADD CONSTRAINT FK_MOD_REPORT_COMPONENT_REP
    FOREIGN KEY (moderation_report_id)
    REFERENCES dbo.MODERATION_REPORT (moderation_report_id)
go
ALTER TABLE dbo.MODERATION_REPORT_JUDGEMENT
    ADD CONSTRAINT FK_MODERATION_REPORT_ID_2
    FOREIGN KEY (moderation_report_id)
    REFERENCES dbo.MODERATION_REPORT (moderation_report_id)
go
ALTER TABLE dbo.MODERATION_SUBMISSION_DATE
    ADD CONSTRAINT FK_MOD_ASSESS_PLAN_ID
    FOREIGN KEY (assessment_plan_id)
    REFERENCES dbo.MODERATION_ASSESSMENT_PLAN (assessment_plan_id)
go
ALTER TABLE dbo.MODERATOR
    ADD CONSTRAINT FK_MODERATOR_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.MODERATOR_CAPACITY
    ADD CONSTRAINT FK_MOD_CAP_MOD_ROLE_ID
    FOREIGN KEY (moderator_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MODERATOR_CAPACITY
    ADD CONSTRAINT FK_MOD_CAP_REASON
    FOREIGN KEY (capacity_reason_code)
    REFERENCES dbo.MOD_CAPACITY_REASON_CODE (capacity_reason_code)
go
ALTER TABLE dbo.MODERATOR_ROLE
    ADD CONSTRAINT FK_MODERATOR_ID
    FOREIGN KEY (moderator_id)
    REFERENCES dbo.MODERATOR (moderator_id)
go
ALTER TABLE dbo.MODERATOR_ROLE
    ADD CONSTRAINT FK_MODERATOR_ROLE_CHECK_MOD
    FOREIGN KEY (check_moderator_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MODERATOR_ROLE
    ADD CONSTRAINT FK_MOD_REASON_NOT_INV_BACK
    FOREIGN KEY (reason_not_inv_back_code)
    REFERENCES dbo.MOD_REASON_NOT_INV_BACK (reason_not_inv_back_code)
go
ALTER TABLE dbo.MODERATOR_ROLE
    ADD CONSTRAINT FK_MOD_ROLE_REASON
    FOREIGN KEY (mod_role_status_reason)
    REFERENCES dbo.MOD_ROLE_STATUS_REASON (mod_role_status_reason)
go
ALTER TABLE dbo.MODERATOR_ROLE
    ADD CONSTRAINT FK_MOD_ROLE_STATUS
    FOREIGN KEY (mod_role_status_code)
    REFERENCES dbo.MOD_ROLE_STATUS_CODE (mod_role_status_code)
go
ALTER TABLE dbo.MOD_FORBIDDEN_PROVIDER
    ADD CONSTRAINT FK_MODERATOR_ROLE_ID_FB
    FOREIGN KEY (moderator_role_id)
    REFERENCES dbo.MODERATOR_ROLE (moderator_role_id)
go
ALTER TABLE dbo.MOD_FORBIDDEN_PROVIDER
    ADD CONSTRAINT FK_MOD_FORBID_PROV_PROVIDER
    FOREIGN KEY (moe_provider_id,provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.MOD_REPORT_STATUS_HISTORY
    ADD CONSTRAINT FK_MOD_REP_STATUS_HIST_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.MOD_REPORT_STATUS_HISTORY
    ADD CONSTRAINT FK_MOD_REP_STATUS_HIST_REPORT
    FOREIGN KEY (moderation_report_id)
    REFERENCES dbo.MODERATION_REPORT (moderation_report_id)
go
ALTER TABLE dbo.MOD_REPORT_STATUS_HISTORY
    ADD CONSTRAINT FK_MOD_REP_STATUS_HIST_STATUS
    FOREIGN KEY (mod_report_status_code)
    REFERENCES dbo.MOD_REPORT_STATUS_CODE (mod_report_status_code)
go
ALTER TABLE dbo.NAME
    ADD CONSTRAINT FK_NAME_FK_NAME_F_NAME_TYP
    FOREIGN KEY (name_type_code)
    REFERENCES dbo.NAME_TYPE (name_type_code)
go
ALTER TABLE dbo.NAME
    ADD CONSTRAINT FK_NAME_FK_NAME_F_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.NAME
    ADD CONSTRAINT FK_NAME_MERGE_REQUEST
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.NAME
    ADD CONSTRAINT FK_NAME_ORIG_REF_ID
    FOREIGN KEY (original_reference_id)
    REFERENCES dbo.NAME (name_id)
go
ALTER TABLE dbo.NAME
    ADD CONSTRAINT FK_TITLE_SALUTATION
    FOREIGN KEY (title)
    REFERENCES dbo.SALUTATION (salutation_code)
go
ALTER TABLE dbo.NAME_TYPE
    ADD CONSTRAINT FK_PERORG_CODE
    FOREIGN KEY (perorg_type_code)
    REFERENCES dbo.PERORG_TYPE (perorg_type_code)
go
ALTER TABLE dbo.NOTE_ISSUE_STATUS_HIST
    ADD CONSTRAINT FK_NOTE_ISS_STA_HST_ISS_ID
    FOREIGN KEY (note_issue_id)
    REFERENCES dbo.PROV_NOTE_ISSUE (note_issue_id)
go
ALTER TABLE dbo.NOTE_ISSUE_STATUS_HIST
    ADD CONSTRAINT FK_NOTE_ISS_STA_HST_ISS_STA
    FOREIGN KEY (issue_status_code)
    REFERENCES dbo.NOTE_ISSUE_STATUS (issue_status_code)
go
ALTER TABLE dbo.NOTE_ISSUE_SUB_TYPE
    ADD CONSTRAINT FK_NOTE_ISSUE_SUB_TYPE
    FOREIGN KEY (issue_type_code)
    REFERENCES dbo.NOTE_ISSUE_TYPE (issue_type_code)
go
ALTER TABLE dbo.NOTE_SUBJECT_TYPE
    ADD CONSTRAINT FK_NOTE_SUB_TYPE_NOTE_TYPE
    FOREIGN KEY (note_type_code)
    REFERENCES dbo.NOTE_TYPE (note_type_code)
go
ALTER TABLE dbo.NQAF_STG_APPLICATION
    ADD CONSTRAINT FK_NQAF_STG_APPLN_PERORG
    FOREIGN KEY (teo_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.NQAF_STG_APPLICATION
    ADD CONSTRAINT FK_STG_APPLN_PERORG_CASE
    FOREIGN KEY (perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.NQAF_STG_APPLICATION
    ADD CONSTRAINT FK_STG_APPLN_STG_APP_TYPE
    FOREIGN KEY (nqaf_stg_app_type_code)
    REFERENCES dbo.NQAF_STG_APP_TYPE (nqaf_stg_app_type_code)
go
ALTER TABLE dbo.NQAF_STG_APPLN_CONTACT
    ADD CONSTRAINT FK_STG_APPLN_CONT_STG_CONT_TYP
    FOREIGN KEY (nqaf_stg_contact_type_code)
    REFERENCES dbo.NQAF_STG_CONTACT_TYPE (nqaf_stg_contact_type_code)
go
ALTER TABLE dbo.NQAF_STG_APPLN_CONTACT
    ADD CONSTRAINT FK_STG_APP_CONTACT_STG_APPLN
    FOREIGN KEY (nqaf_stg_application_id)
    REFERENCES dbo.NQAF_STG_APPLICATION (nqaf_stg_application_id)
go
ALTER TABLE dbo.NQAF_STG_APP_DOC_TYPE
    ADD CONSTRAINT FK_STG_APP_DOC_TYPE_STG_APP_TY
    FOREIGN KEY (nqaf_stg_app_type_code)
    REFERENCES dbo.NQAF_STG_APP_TYPE (nqaf_stg_app_type_code)
go
ALTER TABLE dbo.NQAF_STG_CAA_APP
    ADD CONSTRAINT FK_STG_APPLN_STG_CAA_APP
    FOREIGN KEY (nqaf_stg_application_id)
    REFERENCES dbo.NQAF_STG_APPLICATION (nqaf_stg_application_id)
go
ALTER TABLE dbo.NQAF_STG_CRSE_QFN
    ADD CONSTRAINT FK_STG_CRSE_QFN_CFN_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.NQAF_STG_CRSE_QFN
    ADD CONSTRAINT FK_STG_CRSE_QFN_COURSE_VER
    FOREIGN KEY (course_version_id)
    REFERENCES dbo.COURSE_VERSION (course_version_id)
go
ALTER TABLE dbo.NQAF_STG_CRSE_QFN
    ADD CONSTRAINT FK_STG_CRSE_QFN_LVL_FROM
    FOREIGN KEY (level_range_from)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.NQAF_STG_CRSE_QFN
    ADD CONSTRAINT FK_STG_CRSE_QFN_LVL_TO
    FOREIGN KEY (level_range_to)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.NQAF_STG_CRSE_QFN
    ADD CONSTRAINT FK_STG_CRSE_QFN_QFN_TYPE
    FOREIGN KEY (qfn_type_code)
    REFERENCES dbo.QFN_TYPE (qfn_type_code)
go
ALTER TABLE dbo.NQAF_STG_REG_APP
    ADD CONSTRAINT FK_STG_REG_APP_STG_APPLN
    FOREIGN KEY (nqaf_stg_reg_app_id)
    REFERENCES dbo.NQAF_STG_APPLICATION (nqaf_stg_application_id)
go
ALTER TABLE dbo.NQAF_STG_REG_EXEMPTION
    ADD CONSTRAINT FK_STG_REG_EXEMPT_STG_REG_APP
    FOREIGN KEY (nqaf_stg_reg_app_id)
    REFERENCES dbo.NQAF_STG_REG_APP (nqaf_stg_reg_app_id)
go
ALTER TABLE dbo.NQAF_STG_REG_EXEMPTION
    ADD CONSTRAINT FK_STG_REG_EXMPT_SFP_EXMPT_TYP
    FOREIGN KEY (sfp_exemption_type_code)
    REFERENCES dbo.SFP_EXEMPTION_TYPE (sfp_exemption_type_code)
go
ALTER TABLE dbo.NQAF_STG_REG_FOCUS
    ADD CONSTRAINT FK_STG_REG_FOCUS_FOCUS_CODE
    FOREIGN KEY (provider_focus_code)
    REFERENCES dbo.PROVIDER_FOCUS_CODE (provider_focus_code)
go
ALTER TABLE dbo.NQAF_STG_REG_FOCUS
    ADD CONSTRAINT FK_STG_REG_FOCUS_STG_REG_APP
    FOREIGN KEY (nqaf_stg_reg_app_id)
    REFERENCES dbo.NQAF_STG_REG_APP (nqaf_stg_reg_app_id)
go
ALTER TABLE dbo.NZQA_BUSINESS_UNIT
    ADD CONSTRAINT FK_NZQA_BUS_UNIT_NZQA_BUS_UNIT
    FOREIGN KEY (parent_unit_code)
    REFERENCES dbo.NZQA_BUSINESS_UNIT (unit_code)
go
ALTER TABLE dbo.NZQA_EMPLOYEE_INFO
    ADD CONSTRAINT FK_NZQA_EMP_INFO_NZQA_POS
    FOREIGN KEY (nzqa_position_id)
    REFERENCES dbo.NZQA_POSITION (nzqa_position_id)
go
ALTER TABLE dbo.NZQA_EMPLOYEE_INFO
    ADD CONSTRAINT FK_NZQA_EMP_INFO_PERORG_ROLE
    FOREIGN KEY (nzqa_employee_info_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.NZQA_ORG_UNIT
    ADD CONSTRAINT FK_NZQA_O_UNIT_NZQA_O_UNIT
    FOREIGN KEY (parent_unit_id)
    REFERENCES dbo.NZQA_ORG_UNIT (nzqa_org_unit_id)
go
ALTER TABLE dbo.NZQA_ORG_UNIT
    ADD CONSTRAINT FK_NZQA_O_UNIT_NZQA_O_UNITTYPE
    FOREIGN KEY (unit_type_code)
    REFERENCES dbo.NZQA_ORG_UNIT_TYPE (unit_type_code)
go
ALTER TABLE dbo.NZQA_POSITION
    ADD CONSTRAINT FK_NZQA_POS_NZQA_ORG_UNIT
    FOREIGN KEY (nzqa_org_unit_id)
    REFERENCES dbo.NZQA_ORG_UNIT (nzqa_org_unit_id)
go
ALTER TABLE dbo.NZQA_POSITION
    ADD CONSTRAINT FK_NZQA_POS_NZQA_POS_TITLE
    FOREIGN KEY (position_code)
    REFERENCES dbo.NZQA_POSITION_TITLE (position_code)
go
ALTER TABLE dbo.ORDER_ITEM
    ADD CONSTRAINT FK_ORDER_ITEM_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.ORDER_ITEM
    ADD CONSTRAINT FK_ORDER_ITEM_ORDER_REQ
    FOREIGN KEY (order_request_id)
    REFERENCES dbo.ORDER_REQUEST (order_request_id)
go
ALTER TABLE dbo.ORDER_ITEM
    ADD CONSTRAINT FK_ORDER_ITEM_QFN_ACHVD
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.ORDER_ITEM
    ADD CONSTRAINT FK_ORDR_ITM_ORDR_ITM_CAT_STATUS
    FOREIGN KEY (order_item_category_code,order_item_status_code)
    REFERENCES dbo.ORDER_ITEM_CATEGORY_STATUS (order_item_category_code,order_item_status_code)
go
ALTER TABLE dbo.ORDER_ITEM
    ADD CONSTRAINT FK_ORDR_ITM_ORDR_ITM_TYPE
    FOREIGN KEY (order_item_category_code,order_item_type_code)
    REFERENCES dbo.ORDER_ITEM_TYPE (order_item_category_code,order_item_type_code)
go
ALTER TABLE dbo.ORDER_ITEM_CATEGORY_STATUS
    ADD CONSTRAINT FK_ORDR_ITEM_CAT_STS_ORDR_ITM_CAT
    FOREIGN KEY (order_item_category_code)
    REFERENCES dbo.ORDER_ITEM_CATEGORY (order_item_category_code)
go
ALTER TABLE dbo.ORDER_ITEM_CATEGORY_STATUS
    ADD CONSTRAINT FK_ORDR_ITEM_CAT_STS_ORDR_ITM_STS
    FOREIGN KEY (order_item_status_code)
    REFERENCES dbo.ORDER_ITEM_STATUS (order_item_status_code)
go
ALTER TABLE dbo.ORDER_ITEM_STATUS_HIST
    ADD CONSTRAINT FK_ORDR_ITM_STS_HST_ORDR_ITM
    FOREIGN KEY (order_item_id)
    REFERENCES dbo.ORDER_ITEM (order_item_id)
go
ALTER TABLE dbo.ORDER_ITEM_STATUS_HIST
    ADD CONSTRAINT FK_ORD_ITM_STS_HST_ORD_ITM_STS
    FOREIGN KEY (order_item_status_code)
    REFERENCES dbo.ORDER_ITEM_STATUS (order_item_status_code)
go
ALTER TABLE dbo.ORDER_ITEM_TYPE_RULE
    ADD CONSTRAINT FK_ORDR_ITM_TY_RLE_ORDR_ITM_TY
    FOREIGN KEY (order_item_type_code)
    REFERENCES dbo.ORDER_ITEM_TYPE (order_item_type_code)
go
ALTER TABLE dbo.ORDER_NOTE
    ADD CONSTRAINT FK_ORDER_NOTE_ORDER_REQ
    FOREIGN KEY (order_request_id)
    REFERENCES dbo.ORDER_REQUEST (order_request_id)
go
ALTER TABLE dbo.ORDER_NOTE
    ADD CONSTRAINT FK_ORDER_NOTE_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.ORDER_REQUEST
    ADD CONSTRAINT FK_ORDER_REQ_CTRY_CODE
    FOREIGN KEY (country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.ORDER_REQUEST
    ADD CONSTRAINT FK_ORDER_REQ_DLVR_TYP
    FOREIGN KEY (delivery_type_code)
    REFERENCES dbo.DELIVERY_TYPE (delivery_type_code)
go
ALTER TABLE dbo.ORDER_REQUEST
    ADD CONSTRAINT FK_ORDER_REQ_PAYMENT
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.ORDER_REQUEST
    ADD CONSTRAINT FK_ORDER_REQ_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.ORDER_REQUEST
    ADD CONSTRAINT FK_ORDER_REQ_PHONE_CTRY_CODE
    FOREIGN KEY (phone_country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.ORGANISATION_LOGO
    ADD CONSTRAINT FK_ORGANISATION_LOGO_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVALUATION_PERORG_CASE
    FOREIGN KEY (perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVALUATION_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVAL_EDUCATION_PERF
    FOREIGN KEY (edu_performance_code)
    REFERENCES dbo.ORG_PERFORMANCE_CODE (org_performance_code)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVAL_ORG_EVAL_CATG
    FOREIGN KEY (org_evaluation_catg_code)
    REFERENCES dbo.ORG_EVALUATION_CATG (org_evaluation_catg_code)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVAL_ORG_EVAL_TYPE
    FOREIGN KEY (org_evaluation_type_code)
    REFERENCES dbo.ORG_EVALUATION_TYPE (org_evaluation_type_code)
go
ALTER TABLE dbo.ORG_EVALUATION
    ADD CONSTRAINT FK_ORG_EVAL_SELF_ASSESSMENT
    FOREIGN KEY (self_assessment_code)
    REFERENCES dbo.ORG_PERFORMANCE_CODE (org_performance_code)
go
ALTER TABLE dbo.ORG_EVALUATION_COMBO
    ADD CONSTRAINT FK_ORG_EVAL_COMBO_ORG_ASS_PERF
    FOREIGN KEY (self_assessment_code)
    REFERENCES dbo.ORG_PERFORMANCE_CODE (org_performance_code)
go
ALTER TABLE dbo.ORG_EVALUATION_COMBO
    ADD CONSTRAINT FK_ORG_EVAL_COMBO_ORG_EDU_PERF
    FOREIGN KEY (edu_performance_code)
    REFERENCES dbo.ORG_PERFORMANCE_CODE (org_performance_code)
go
ALTER TABLE dbo.ORG_EVALUATION_COMBO
    ADD CONSTRAINT FK_ORG_EVAL_COMB_ORG_EVAL_CATG
    FOREIGN KEY (org_evaluation_catg_code)
    REFERENCES dbo.ORG_EVALUATION_CATG (org_evaluation_catg_code)
go
ALTER TABLE dbo.ORG_EVALUATION_HISTORY
    ADD CONSTRAINT FK_ORG_EVAL_HIST_EVAL_RSN_CODE
    FOREIGN KEY (evaluation_reason_code)
    REFERENCES dbo.EVALUATION_REASON_CODE (evaluation_reason_code)
go
ALTER TABLE dbo.ORG_EVALUATION_HISTORY
    ADD CONSTRAINT FK_ORG_EVAL_HIST_ORG_EVAL
    FOREIGN KEY (org_evaluation_id)
    REFERENCES dbo.ORG_EVALUATION (org_evaluation_id)
go
ALTER TABLE dbo.ORG_PROFILE_DOCUMENT
    ADD CONSTRAINT FK_ORG_PROF_DOC_PERORG_ROLE_TY
    FOREIGN KEY (perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.ORG_PROFILE_DOCUMENT
    ADD CONSTRAINT FK_ORG_PROF_DOC_PROV_TYPE
    FOREIGN KEY (provider_type_code)
    REFERENCES dbo.PROVIDER_TYPE (provider_type_code)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROFILE_NOTE_COM_TYPE
    FOREIGN KEY (note_com_type_code)
    REFERENCES dbo.NOTE_COM_TYPE (note_com_type_code)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROFILE_NOTE_NOTE_TYPE
    FOREIGN KEY (note_type_code)
    REFERENCES dbo.NOTE_TYPE (note_type_code)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROF_NOTE_NOTE_SUB_TYPE
    FOREIGN KEY (note_subject_type_code)
    REFERENCES dbo.NOTE_SUBJECT_TYPE (note_subject_type_code)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROF_NOTE_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROF_NOTE_PRO_RISK_ISS
    FOREIGN KEY (prov_risk_issue_id)
    REFERENCES dbo.PROV_RISK_ISSUE (prov_risk_issue_id)
go
ALTER TABLE dbo.ORG_PROFILE_NOTE
    ADD CONSTRAINT FK_ORG_PROF_PROV_NOTE_ISS
    FOREIGN KEY (prov_note_issue_id)
    REFERENCES dbo.PROV_NOTE_ISSUE (note_issue_id)
go
ALTER TABLE dbo.ORG_QA_ACTIVITY
    ADD CONSTRAINT FK_ORG_QA_ACTIVITY_PERORG
    FOREIGN KEY (conducted_by_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.ORG_QA_ACTIVITY
    ADD CONSTRAINT FK_ORG_QA_ACTIVITY_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.ORG_QA_ACTIVITY
    ADD CONSTRAINT FK_ORG_QA_ACTIVITY_SUB_TYPE
    FOREIGN KEY (issue_severity_code)
    REFERENCES dbo.NOTE_ISSUE_SEVERITY_CODE (issue_severity_code)
go
ALTER TABLE dbo.ORG_QA_ACTIVITY
    ADD CONSTRAINT FK_ORG_QA_ACTIVITY_TYPE
    FOREIGN KEY (qa_activity_type)
    REFERENCES dbo.QA_ACTIVITY_TYPE (qa_activity_type_code)
go
ALTER TABLE dbo.ORG_QA_ACTIVITY
    ADD CONSTRAINT FK_ORG_QA_OUTCOME_TYPE
    FOREIGN KEY (qa_outcome_code)
    REFERENCES dbo.QA_OUTCOME_TYPE (qa_outcome_type_code)
go
ALTER TABLE dbo.OUTSTANDING_FEE_LODGEMENT
    ADD CONSTRAINT FK_OUTSDNG_FEE_LDGM_CTRY_CODE
    FOREIGN KEY (phone_country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.OUTSTANDING_FEE_LODGEMENT
    ADD CONSTRAINT FK_OUTSDNG_FEE_LDGM_PAYMENT
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.OUTSTANDING_FEE_LODGEMENT
    ADD CONSTRAINT FK_OUTSDNG_FEE_LDGM_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PANEL_AD_REGION
    ADD CONSTRAINT FK_PANEL_AD_REGION_PANEL
    FOREIGN KEY (panel_id)
    REFERENCES dbo.MARKER_PANEL (panel_id)
go
ALTER TABLE dbo.PANEL_AD_REGION
    ADD CONSTRAINT FK_PANEL_AD_REGION_REGION
    FOREIGN KEY (region_code)
    REFERENCES dbo.REGION (region_code)
go
ALTER TABLE dbo.PAYMENT
    ADD CONSTRAINT FK_PAYMENT_APPL_SYS_TYP
    FOREIGN KEY (application_system_type_code)
    REFERENCES dbo.APPLICATION_SYSTEM_TYPE (application_system_type_code)
go
ALTER TABLE dbo.PAYMENT
    ADD CONSTRAINT FK_PAYMENT_PAYMENT_STS
    FOREIGN KEY (payment_status_code)
    REFERENCES dbo.PAYMENT_STATUS (payment_status_code)
go
ALTER TABLE dbo.PAYMENT
    ADD CONSTRAINT FK_PAYMENT_PAYMENT_TYPE
    FOREIGN KEY (payment_type_code)
    REFERENCES dbo.PAYMENT_TYPE (payment_type_code)
go
ALTER TABLE dbo.PAYMENT
    ADD CONSTRAINT FK_PAYMENT_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PAYMENT
    ADD CONSTRAINT FK_PAYMENT_QRS_STG_APPLICATION
    FOREIGN KEY (directp_qrs_stg_application_id)
    REFERENCES dbo.QRS_STG_APPLICATION (qrs_stg_application_id)
go
ALTER TABLE dbo.PAYMENT_PRODUCT
    ADD CONSTRAINT FK_PAYMENT_PRODUCT_TYPE
    FOREIGN KEY (product_type_code)
    REFERENCES dbo.PRODUCT_TYPE (product_type_code)
go
ALTER TABLE dbo.PAYMENT_PRODUCT
    ADD CONSTRAINT FK_PAYMENT_PROD_PAYMENT
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.PAYMENT_RECONCILIATION_RUN
    ADD CONSTRAINT FK_PAY_RECON_RUN_APPL_SYS_TYP
    FOREIGN KEY (application_system_type_code)
    REFERENCES dbo.APPLICATION_SYSTEM_TYPE (application_system_type_code)
go
ALTER TABLE dbo.PAYMENT_RECONCILIATION_RUN
    ADD CONSTRAINT FK_PAY_RECON_RUN_PAYMENT_TYPE
    FOREIGN KEY (payment_type_code)
    REFERENCES dbo.PAYMENT_TYPE (payment_type_code)
go
ALTER TABLE dbo.PAYMENT_REFUND
    ADD CONSTRAINT FK_PAYMENT_REFUND_PAYMENT
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.PAYMENT_REFUND
    ADD CONSTRAINT FK_PAYMENT_RFND_RFND_STS_CODE
    FOREIGN KEY (refund_status_code)
    REFERENCES dbo.REFUND_STATUS_CODE (refund_status_code)
go
ALTER TABLE dbo.PAYMENT_STATUS_HIST
    ADD CONSTRAINT FK_PAYMENT_PAYMENT_STS_HST
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.PAYMENT_STATUS_HIST
    ADD CONSTRAINT FK_PAYMENT_STS_HST_PAYMENT_STS
    FOREIGN KEY (payment_status_code)
    REFERENCES dbo.PAYMENT_STATUS (payment_status_code)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_COUNTRY
    FOREIGN KEY (location_country_code)
    REFERENCES dbo.COUNTRY_CODE (country_short_code)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_FK_PERORG_GENDER_C
    FOREIGN KEY (gender_code)
    REFERENCES dbo.GENDER_CODE (gender_code)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_MERGE_REQUEST
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_ORG_LEGAL_STATUS
    FOREIGN KEY (org_legal_status)
    REFERENCES dbo.ORG_LEGAL_STATUS (org_legal_status)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_PERORG_STATUS
    FOREIGN KEY (perorg_status)
    REFERENCES dbo.PERORG_STATUS (perorg_status_code)
go
ALTER TABLE dbo.PERORG
    ADD CONSTRAINT FK_PERORG_PERORG_TYPE
    FOREIGN KEY (perorg_type_code)
    REFERENCES dbo.PERORG_TYPE (perorg_type_code)
go
ALTER TABLE dbo.PERORG_ALT_ID
    ADD CONSTRAINT FK_ALTID_TYPE_CODE
    FOREIGN KEY (altid_type_code)
    REFERENCES dbo.PERORG_ALT_ID_TYPE (altid_type_code)
go
ALTER TABLE dbo.PERORG_ALT_ID
    ADD CONSTRAINT FK_ORIGINAL_REF_ID
    FOREIGN KEY (original_reference_id)
    REFERENCES dbo.PERORG_ALT_ID (altid_id)
go
ALTER TABLE dbo.PERORG_ALT_ID
    ADD CONSTRAINT FK_PERORG_ALT_ID_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PERORG_CASE
    ADD CONSTRAINT FK_PERORG_CASE_CASE_TYP_ST_COM
    FOREIGN KEY (case_type,case_status)
    REFERENCES dbo.CASE_TYPE_STATUS_COMBO (case_type,case_status)
go
ALTER TABLE dbo.PERORG_CASE
    ADD CONSTRAINT FK_PERORG_CASE_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PERORG_CASE
    ADD CONSTRAINT FK_PERORG_CASE_REL_ROLE
    FOREIGN KEY (related_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_CONTEXT_CYCLE
    FOREIGN KEY (context_cycle)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_ROLE_CLAIM_CONTRACT
    FOREIGN KEY (claim_contract_id)
    REFERENCES dbo.CLAIM_CONTRACT (claim_contract_id)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_ROLE_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_ROLE_RELATED_ROLE
    FOREIGN KEY (related_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_ROLE_STATUS
    FOREIGN KEY (perorg_role_type_code,perorg_role_status_code)
    REFERENCES dbo.PERORG_ROLE_STATUS (perorg_role_type_code,perorg_role_status_code)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_ROLE_STATUS_REASON
    FOREIGN KEY (status_reason_code,perorg_role_type_code,perorg_role_status_code)
    REFERENCES dbo.STATUS_REASON_CODE (status_reason_code,perorg_role_type_code,perorg_role_status_code)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PERORG_R_FK_PERORG_PERORG_R
    FOREIGN KEY (perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_PRIMARY_CONTACT
    FOREIGN KEY (primary_contact_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PERORG_ROLE
    ADD CONSTRAINT FK_SSB_TYPE_CODE
    FOREIGN KEY (ssb_type_code)
    REFERENCES dbo.SSB_TYPE (ssb_type_code)
go
ALTER TABLE dbo.PERORG_ROLE_AVLBL_REGION
    ADD CONSTRAINT FK_POR_AVLBL_RGN_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.PERORG_ROLE_AVLBL_REGION
    ADD CONSTRAINT FK_POR_AVLBL_RGN_REGION
    FOREIGN KEY (region_code)
    REFERENCES dbo.REGION (region_code)
go
ALTER TABLE dbo.PERORG_ROLE_COMBO
    ADD CONSTRAINT FK_PERORG_ROLE__FROM
    FOREIGN KEY (from_perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.PERORG_ROLE_COMBO
    ADD CONSTRAINT FK_PERORG_ROLE__TO
    FOREIGN KEY (to_perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.PERORG_ROLE_HISTORY
    ADD CONSTRAINT FK_PERORG_ROLE_HIST_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PERORG_ROLE_HISTORY
    ADD CONSTRAINT FK_PERORG_ROLE_HIST_ROLE_STA
    FOREIGN KEY (perorg_role_type_code,perorg_role_status_code)
    REFERENCES dbo.PERORG_ROLE_STATUS (perorg_role_type_code,perorg_role_status_code)
go
ALTER TABLE dbo.PERORG_ROLE_HISTORY
    ADD CONSTRAINT FK_PERORG_ROLE_HIST_SSB_TYPE
    FOREIGN KEY (ssb_type_code)
    REFERENCES dbo.SSB_TYPE (ssb_type_code)
go
ALTER TABLE dbo.PERORG_ROLE_PANEL_MMBR
    ADD CONSTRAINT FK_POR_PANEL_MMBR_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.PERORG_ROLE_PANEL_MMBR
    ADD CONSTRAINT FK_POR_PNL_MMBR_MRKR_PNL
    FOREIGN KEY (panel_id)
    REFERENCES dbo.MARKER_PANEL (panel_id)
go
ALTER TABLE dbo.PERORG_ROLE_STATUS
    ADD CONSTRAINT FK_PERORG_ROLE_STATUS_TYPE
    FOREIGN KEY (perorg_role_type_code)
    REFERENCES dbo.PERORG_ROLE_TYPE (perorg_role_type_code)
go
ALTER TABLE dbo.PERORG_ROLE_TYPE
    ADD CONSTRAINT FK_PERORG_R_FK_PERORG_TYPE
    FOREIGN KEY (perorg_type_code)
    REFERENCES dbo.PERORG_TYPE (perorg_type_code)
go
ALTER TABLE dbo.PERSONALISATION_EXCEPTION
    ADD CONSTRAINT FK_PERSONALISATION_EXCEPT_YR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PERSONALISATION_EXCEPTION
    ADD CONSTRAINT FK_PER_EXCEPTION_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.PERSONALISATION_RUN
    ADD CONSTRAINT FK_PERSONALISATION_RUN_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PERSONALISATION_RUN
    ADD CONSTRAINT FK_PERSONAL_RUN_TYPE
    FOREIGN KEY (personalisation_run_type)
    REFERENCES dbo.PERSONALISATION_RUN_TYPE (personalisation_run_type)
go
ALTER TABLE dbo.PERSONALISATION_RUN
    ADD CONSTRAINT FK_PER_RUN_PER_RUN_STATUS
    FOREIGN KEY (personalisation_run_status)
    REFERENCES dbo.PERSONALISATION_RUN_STATUS (personalisation_run_status)
go
ALTER TABLE dbo.PERSONALISATION_RUN_TYPE
    ADD CONSTRAINT FK_PERSONAL_RUN_TYPE_AFT_TYPE
    FOREIGN KEY (run_after_type)
    REFERENCES dbo.RUN_AFTER_TYPE (run_after_type)
go
ALTER TABLE dbo.PERSON_CLAIM
    ADD CONSTRAINT FK_PERSON_CLAIM_CONSTRACT
    FOREIGN KEY (claim_contract_id)
    REFERENCES dbo.CLAIM_CONTRACT (claim_contract_id)
go
ALTER TABLE dbo.PERSON_CLAIM
    ADD CONSTRAINT FK_PERSON_CLAIM_FIN_DETAIL
    FOREIGN KEY (financial_detail_id,perorg_id)
    REFERENCES dbo.FINANCIAL_DETAIL (financial_detail_id,perorg_id)
go
ALTER TABLE dbo.PERSON_CLAIM
    ADD CONSTRAINT FK_PERSON_CLAIM_ROLE
    FOREIGN KEY (perorg_role_id,perorg_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id,perorg_id)
go
ALTER TABLE dbo.PERSON_CLAIM
    ADD CONSTRAINT FK_PERSON_CLAIM_STATUS
    FOREIGN KEY (claim_status)
    REFERENCES dbo.CLAIM_STATUS (claim_status)
go
ALTER TABLE dbo.PERSON_CLAIM
    ADD CONSTRAINT FK_PERSON_CLAIM_YEAR
    FOREIGN KEY (academic_cycle)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PERS_VOL_COUNT
    ADD CONSTRAINT FK_PERS_VOL_COUNT_EXM_MTL_CMPT
    FOREIGN KEY (exam_material_cmpt_id)
    REFERENCES dbo.EXAM_MATERIAL_CMPT (exam_material_cmpt_id)
go
ALTER TABLE dbo.PREREQUISITE_STRAND_NAME
    ADD CONSTRAINT FK_PREREQ_STRAND_NAME_SECTION
    FOREIGN KEY (section_type_code)
    REFERENCES dbo.QFN_SECTION_TYPE (section_type_code)
go
ALTER TABLE dbo.PREREQUISITE_STRAND_NAME
    ADD CONSTRAINT FK_PREREQ_STRAND_QFN_PREREQ
    FOREIGN KEY (prerequisite_id)
    REFERENCES dbo.QFN_PREREQUISITE (prerequisite_id)
go
ALTER TABLE dbo.PROCESS_TYPE_CODE
    ADD CONSTRAINT FK_PROC_CODE_USED_BY_CODE
    FOREIGN KEY (process_type_used_by_code)
    REFERENCES dbo.PROCESS_TYPE_USED_BY_CODE (process_type_used_by_code)
go
ALTER TABLE dbo.PRODUCT_TYPE
    ADD CONSTRAINT FK_PAYMENT_TYP_APPL_SYS_TYP
    FOREIGN KEY (application_system_type_code)
    REFERENCES dbo.APPLICATION_SYSTEM_TYPE (application_system_type_code)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_CREATE_PERORG_CASE
    FOREIGN KEY (created_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_DELIVERY_SITE_STA
    FOREIGN KEY (delivery_site_status)
    REFERENCES dbo.DELIVERY_SITE_STATUS (delivery_site_status)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_LAST_PERORG_CASE
    FOREIGN KEY (last_updated_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_LOCALITY_CODE
    FOREIGN KEY (provider_locality_code)
    REFERENCES dbo.PROVIDER_LOCALITY_CODE (provider_locality_code)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_PERORG_ROLE
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_PROVIDER_HO
    FOREIGN KEY (provider_head_office_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_PROVIDER_TYPE
    FOREIGN KEY (provider_type_code)
    REFERENCES dbo.PROVIDER_TYPE (provider_type_code)
go
ALTER TABLE dbo.PROVIDER
    ADD CONSTRAINT FK_PROVIDER_REGION
    FOREIGN KEY (region_code)
    REFERENCES dbo.REGION (region_code)
go
ALTER TABLE dbo.PROVIDER_CONDITION
    ADD CONSTRAINT FK_PROV_COND_COND_STATUS
    FOREIGN KEY (condition_status_code)
    REFERENCES dbo.CONDITION_STATUS (condition_status_code)
go
ALTER TABLE dbo.PROVIDER_CONDITION
    ADD CONSTRAINT FK_PROV_COND_COND_TYPE
    FOREIGN KEY (condition_type_code)
    REFERENCES dbo.CONDITION_TYPE (condition_type_code)
go
ALTER TABLE dbo.PROVIDER_CONDITION
    ADD CONSTRAINT FK_PROV_COND_PERORG_CASE
    FOREIGN KEY (perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROVIDER_CONDITION
    ADD CONSTRAINT FK_PROV_COND_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER_COP_ACCOM_ARRANGED_BY
    ADD CONSTRAINT FK_PROV_COP_ACCOM_ARR_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER_COP_ACCOM_ARRANGED_BY
    ADD CONSTRAINT FK_PROV_COP_ACCOM_ARR_TYPE
    FOREIGN KEY (cop_accom_arranged_code)
    REFERENCES dbo.COP_ACCOM_ARRANGED_TYPE (cop_accom_arranged_code)
go
ALTER TABLE dbo.PROVIDER_COP_ACCOM_OPTION
    ADD CONSTRAINT FK_PROV_COP_ACCOM_OPTION_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER_COP_ACCOM_OPTION
    ADD CONSTRAINT FK_PROV_COP_ACCOM_OPT_TYPE
    FOREIGN KEY (cop_accom_option_code)
    REFERENCES dbo.COP_ACCOM_OPTION_TYPE (cop_accom_option_code)
go
ALTER TABLE dbo.PROVIDER_COP_APPRVL
    ADD CONSTRAINT FK_PROV_COP_APPRVL_SIGNATORY_STATUS
    FOREIGN KEY (cop_signatory_status_code)
    REFERENCES dbo.COP_SIGNATORY_STATUS_TYPE (cop_signatory_status_code)
go
ALTER TABLE dbo.PROVIDER_COP_APPRVL
    ADD CONSTRAINT FK_PROV_COP_APP_COP_APP_TYPE
    FOREIGN KEY (cop_apprvl_type_code)
    REFERENCES dbo.COP_APPRVL_TYPE (cop_apprvl_type_code)
go
ALTER TABLE dbo.PROVIDER_COP_APPRVL
    ADD CONSTRAINT FK_PROV_COP_APRVL_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER_COP_APPRVL_HIST
    ADD CONSTRAINT FK_PROV_COP_APPRVL_HIST_SIGNATORY_STATUS
    FOREIGN KEY (cop_signatory_status_code)
    REFERENCES dbo.COP_SIGNATORY_STATUS_TYPE (cop_signatory_status_code)
go
ALTER TABLE dbo.PROVIDER_FOCUS
    ADD CONSTRAINT FK_PROV_ETHN_FOCUS_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROVIDER_FOCUS
    ADD CONSTRAINT FK_PROV_FOCUS_PROV_FOCUS_CODE
    FOREIGN KEY (provider_focus_code)
    REFERENCES dbo.PROVIDER_FOCUS_CODE (provider_focus_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_PROVIDER
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_PROV_STATUS
    FOREIGN KEY (provider_status)
    REFERENCES dbo.PROVIDER_STATUS (provider_status)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_SCH_AUTHORITY_CODE
    FOREIGN KEY (sch_authority_code)
    REFERENCES dbo.SCH_AUTHORITY_CODE (sch_authority_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_SCH_DECILE_CODE
    FOREIGN KEY (sch_decile_code)
    REFERENCES dbo.SCH_DECILE_CODE (sch_decile_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_SCH_GENDER_TYPE
    FOREIGN KEY (sch_gender_type_code)
    REFERENCES dbo.SCH_GENDER_TYPE (sch_gender_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_SCH_SUB_TYPE
    FOREIGN KEY (sch_sub_type_code)
    REFERENCES dbo.SCH_SUB_TYPE (sch_sub_type_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROVIDER_HO_SCH_TYPE
    FOREIGN KEY (sch_type_code)
    REFERENCES dbo.SCH_TYPE (sch_type_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_CREATE_PERORG_CASE
    FOREIGN KEY (created_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_PROV_DEREG_REASON
    FOREIGN KEY (provider_dereg_reason_code)
    REFERENCES dbo.PROVIDER_DEREG_REASON_CODE (provider_dereg_reason_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_RECOG_BODY_CODE
    FOREIGN KEY (recognition_body_code)
    REFERENCES dbo.RECOGNITION_BODY_CODE (recognition_body_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_RISK_STATUS
    FOREIGN KEY (risk_status_code)
    REFERENCES dbo.RISK_STATUS (risk_status_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_SIZE_CATEGORY
    FOREIGN KEY (size_category_code)
    REFERENCES dbo.SIZE_CATEGORY (size_category_code)
go
ALTER TABLE dbo.PROVIDER_HEAD_OFFICE
    ADD CONSTRAINT FK_PROV_HO_UPDATE_PERORG_CASE
    FOREIGN KEY (last_updated_perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROVIDER_IA_RESULT
    ADD CONSTRAINT FK_PROVIDER_IA_RESULT_ACADEMIC
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PROVIDER_IA_RESULT
    ADD CONSTRAINT FK_PROVIDER_IA_RESULT_PROVIDER
    FOREIGN KEY (provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.PROVIDER_IA_RESULT
    ADD CONSTRAINT FK_PROV_IA_RESULTS_AUDIT
    FOREIGN KEY (audit_tran_id)
    REFERENCES dbo.AUDIT_TRANSACTION (audit_tran_oid)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_ATTAINMENT_CODE
    FOREIGN KEY (attainment_code)
    REFERENCES dbo.ATTAINMENT_CODE (attainment_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_L1_STATUS
    FOREIGN KEY (level1_status)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_L2_STATUS
    FOREIGN KEY (level2_status)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_L3_STATUS
    FOREIGN KEY (level3_status)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_QUALCHECK_RUN_STATUS
    FOREIGN KEY (qualcheck_run_status_code)
    REFERENCES dbo.QUALCHECK_RUN_STATUS (qualcheck_run_status_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_SCHL_STATUS
    FOREIGN KEY (schol_status)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROVISIONAL_QUALCHECK_RUN
    ADD CONSTRAINT FK_UE_STATUS
    FOREIGN KEY (ue_status)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROV_LRNR_CATEGORY
    ADD CONSTRAINT FK_PROV_HO_PROV_LRNR_CAT
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROV_LRNR_CATEGORY
    ADD CONSTRAINT FK_PROV_LRNR_CAT_LRNR_CAT
    FOREIGN KEY (learner_category_code)
    REFERENCES dbo.LEARNER_CATEGORY (learner_category_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_PERORG
    FOREIGN KEY (assigned_to_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_RESP_TYPE
    FOREIGN KEY (issue_resp_type_code)
    REFERENCES dbo.NOTE_ISSUE_RESP_TYPE (issue_resp_type_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_SEVERITY
    FOREIGN KEY (issue_severity_code)
    REFERENCES dbo.NOTE_ISSUE_SEVERITY_CODE (issue_severity_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_STATUS
    FOREIGN KEY (issue_status_code)
    REFERENCES dbo.NOTE_ISSUE_STATUS (issue_status_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_SUB_TYPE
    FOREIGN KEY (issue_sub_type)
    REFERENCES dbo.NOTE_ISSUE_SUB_TYPE (issue_sub_type_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISSUE_TYPE
    FOREIGN KEY (issue_type_code)
    REFERENCES dbo.NOTE_ISSUE_TYPE (issue_type_code)
go
ALTER TABLE dbo.PROV_NOTE_ISSUE
    ADD CONSTRAINT FK_PROV_NOTE_ISS_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROV_QUALCHECK_RESULT
    ADD CONSTRAINT FK_PROV_QUALCHECK_STATUS
    FOREIGN KEY (prov_qc_result_status_code)
    REFERENCES dbo.PROV_QUALCHECK_RESULT_STATUS (prov_qc_result_status_code)
go
ALTER TABLE dbo.PROV_QUALCHECK_RESULT
    ADD CONSTRAINT FK_QUALCHECK_RUN
    FOREIGN KEY (qualcheck_run_id)
    REFERENCES dbo.PROVISIONAL_QUALCHECK_RUN (qualcheck_run_id)
go
ALTER TABLE dbo.PROV_RISK_ISSUE
    ADD CONSTRAINT FK_PROV_RISK_ISSUE_PERORG
    FOREIGN KEY (assigned_to_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PROV_RISK_ISSUE
    ADD CONSTRAINT FK_PROV_RISK_ISS_PERORG_CASE
    FOREIGN KEY (perorg_case_id)
    REFERENCES dbo.PERORG_CASE (perorg_case_id)
go
ALTER TABLE dbo.PROV_RISK_ISSUE
    ADD CONSTRAINT FK_PROV_RISK_ISS_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROV_RISK_ISSUE
    ADD CONSTRAINT FK_PROV_RISK_ISS_RISK_IND_TYPE
    FOREIGN KEY (risk_iss_ind_type_code)
    REFERENCES dbo.RISK_ISS_IND_TYPE (risk_iss_ind_type_code)
go
ALTER TABLE dbo.PROV_RISK_ISSUE
    ADD CONSTRAINT FK_PROV_RISK_ISS_RISK_ISS_STA
    FOREIGN KEY (risk_issue_status_code)
    REFERENCES dbo.RISK_ISSUE_STATUS (risk_issue_status_code)
go
ALTER TABLE dbo.PROV_SFP_ARGMT
    ADD CONSTRAINT FK_PROV_SFP_ARGMT_PERORG
    FOREIGN KEY (trust_holder_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.PROV_SFP_ARGMT
    ADD CONSTRAINT FK_PROV_SFP_ARGMT_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROV_SFP_ARGMT
    ADD CONSTRAINT FK_PROV_SFP_ARGMT_SFP_ARGMT_TY
    FOREIGN KEY (sfp_argmt_type_code)
    REFERENCES dbo.SFP_ARGMT_TYPE (sfp_argmt_type_code)
go
ALTER TABLE dbo.PROV_SFP_ARGMT
    ADD CONSTRAINT FK_PROV_SFP_ARGMT_SFP_SUB_TYPE
    FOREIGN KEY (sfp_argmt_sub_type_code)
    REFERENCES dbo.SFP_ARGMT_SUB_TYPE (sfp_argmt_sub_type_code)
go
ALTER TABLE dbo.PROV_SFP_EXEMPTION
    ADD CONSTRAINT FK_PROV_SFP_EXMT_PROV_HO
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER_HEAD_OFFICE (provider_id)
go
ALTER TABLE dbo.PROV_SFP_EXEMPTION
    ADD CONSTRAINT FK_PROV_SFP_EXMT_SFP_EXMT
    FOREIGN KEY (sfp_exemption_type_code)
    REFERENCES dbo.SFP_EXEMPTION_TYPE (sfp_exemption_type_code)
go
ALTER TABLE dbo.QA_OUTCOME_TYPE
    ADD CONSTRAINT FK_QA_OUTCOME_TYPE
    FOREIGN KEY (qa_activity_type_code)
    REFERENCES dbo.QA_ACTIVITY_TYPE (qa_activity_type_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_CURRENCY1
    FOREIGN KEY (local_currency_code)
    REFERENCES dbo.CURRENCY (currency_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_CURRENCY2
    FOREIGN KEY (intl_currency_code)
    REFERENCES dbo.CURRENCY (currency_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_PAYMENT_METHOD1
    FOREIGN KEY (local_currency_pay_method)
    REFERENCES dbo.PAYMENT_METHOD (payment_method_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_PAYMENT_METHOD2
    FOREIGN KEY (intl_currency_pay_method)
    REFERENCES dbo.PAYMENT_METHOD (payment_method_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_PERORG_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_QES_INSTITUTE_SECTION
    FOREIGN KEY (qes_section_code)
    REFERENCES dbo.QES_INSTITUTE_SECTION (qes_section_code)
go
ALTER TABLE dbo.QES_INSTITUTE
    ADD CONSTRAINT FK_QES_INSTITUTE_TYPE
    FOREIGN KEY (qes_institute_type_code)
    REFERENCES dbo.QES_INSTITUTE_TYPE (qes_institute_type_code)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_CERTIFICATE_TYPE
    FOREIGN KEY (certificate_type_code)
    REFERENCES dbo.CERTIFICATE_TYPE (certificate_type_code)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_LATEST_QFN_VERSION
    FOREIGN KEY (latest_reg_qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_QFN_STATUS_CODE
    FOREIGN KEY (qfn_status_code)
    REFERENCES dbo.QFN_STATUS_CODE (qfn_status_code)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_QFN_TYPE
    FOREIGN KEY (qfn_type_code)
    REFERENCES dbo.QFN_TYPE (qfn_type_code)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_QFN_VERSION
    FOREIGN KEY (latest_qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN
    ADD CONSTRAINT FK_QFN_WEB_QFN_VERSION
    FOREIGN KEY (web_qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_AWARD_PROVIDER
    FOREIGN KEY (awarding_provider_id,awarding_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_CERT_PRINT_STATUS
    FOREIGN KEY (certificate_print_status_code)
    REFERENCES dbo.CERTIFICATE_PRINT_STATUS_CODE (certificate_print_status_code)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_MERGE
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_QFN_VERSION
    FOREIGN KEY (qfn_number,qfn_version_number)
    REFERENCES dbo.QFN_VERSION (qfn_number,qfn_version_number)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_STAUS_CODE
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHIEVED_SUBMIT_PROV
    FOREIGN KEY (submitting_provider_id,submitting_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.QFN_ACHIEVED
    ADD CONSTRAINT FK_QFN_ACHVD_BATCH
    FOREIGN KEY (created_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDORSEMENT
    ADD CONSTRAINT FK_QFN_ACHIEVED_ENDOR_QFN_ACH
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDORSEMENT
    ADD CONSTRAINT FK_QFN_ACHI_ENDORSEMENT_ENDOR
    FOREIGN KEY (endorsement_id)
    REFERENCES dbo.ENDORSEMENT (endorsement_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDORSEMENT
    ADD CONSTRAINT FK_QFN_ACHI_END_QFN_VER_END_V
    FOREIGN KEY (qfn_ver_endorsement_ver_id)
    REFERENCES dbo.QFN_VER_ENDORSEMENT_VER (qfn_ver_endorsement_ver_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDORSEMENT
    ADD CONSTRAINT FK_QFN_ACHVD_ENDR_ACH_STA_CODE
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDR_STATUS_HIST
    ADD CONSTRAINT FK_QFN_ACHVD_EDNR_STA_HIST_STA
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_ACHIEVED_ENDR_STATUS_HIST
    ADD CONSTRAINT FK_QFN_ACHVD_ENDR_STA_HIST_END
    FOREIGN KEY (qfn_achieved_endorsement_id)
    REFERENCES dbo.QFN_ACHIEVED_ENDORSEMENT (qfn_achieved_endorsement_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_STATUS_HIST
    ADD CONSTRAINT FK_QFN_ACHVD_STATUS_HIST_QFN_A
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.QFN_ACHIEVED_STATUS_HIST
    ADD CONSTRAINT FK_QFN_ACHVD_STATUS_HIST_STAUS
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_ACHVD_COMP_PROGRESS
    ADD CONSTRAINT FK_QFN_ACHVD_COMP_PROG_COMP_TY
    FOREIGN KEY (qfn_achvd_comp_type_code)
    REFERENCES dbo.QFN_ACHVD_COMP_TYPE (qfn_achvd_comp_type_code)
go
ALTER TABLE dbo.QFN_ACHVD_COMP_PROGRESS
    ADD CONSTRAINT FK_QFN_ACHVD_COMP_PROG_QFN_ACH
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.QFN_ACHVD_COMP_PROGRESS
    ADD CONSTRAINT FK_QFN_ACHVD_COMP_PROG_STA_COD
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_ACHVD_COMP_PROG_HIST
    ADD CONSTRAINT FK_QFN_ACH_COM_PRO_HIS_COMP_PR
    FOREIGN KEY (qfn_achvd_comp_progress_id)
    REFERENCES dbo.QFN_ACHVD_COMP_PROGRESS (qfn_achvd_comp_progress_id)
go
ALTER TABLE dbo.QFN_ACHVD_COMP_PROG_HIST
    ADD CONSTRAINT FK_QFN_ACH_COM_PRO_HIS_STA_COD
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_CERT
    ADD CONSTRAINT FK_QFN_CERT_QFN_ACHIEVED
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.QFN_CERT
    ADD CONSTRAINT FK_QFN_CERT_QFN_ACHI_ENDOR
    FOREIGN KEY (qfn_achieved_endorsement_id)
    REFERENCES dbo.QFN_ACHIEVED_ENDORSEMENT (qfn_achieved_endorsement_id)
go
ALTER TABLE dbo.QFN_CONDITION
    ADD CONSTRAINT FK_QFN_CONDITION_QFN_RULE
    FOREIGN KEY (qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_CONDITION
    ADD CONSTRAINT FK_QFN_COND_CFN_DEPTH_TYPE
    FOREIGN KEY (category_type)
    REFERENCES dbo.CFN_DEPTH_TYPE (cfn_depth_code)
go
ALTER TABLE dbo.QFN_CONDITION
    ADD CONSTRAINT FK_QFN_COND_CFN_DEPTH_TYPE2
    FOREIGN KEY (per_category_type)
    REFERENCES dbo.CFN_DEPTH_TYPE (cfn_depth_code)
go
ALTER TABLE dbo.QFN_CONDITION
    ADD CONSTRAINT FK_QFN_COND_QFN_COND
    FOREIGN KEY (qfn_cond_op_code)
    REFERENCES dbo.QFN_COND_OPERATOR (qfn_cond_op_code)
go
ALTER TABLE dbo.QFN_CONDITION
    ADD CONSTRAINT FK_QFN_COND_RULES_GROUP
    FOREIGN KEY (rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.QFN_EXCLUSION
    ADD CONSTRAINT FK_QFN_EXCLUSION_LHS_STD
    FOREIGN KEY (lhs_std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.QFN_EXCLUSION
    ADD CONSTRAINT FK_QFN_EXCLUSION_RHS_STD
    FOREIGN KEY (rhs_std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_CFN_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_EXMPTD_RULE
    FOREIGN KEY (qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_EXMPTN_ROW
    FOREIGN KEY (excluded_exemption_id)
    REFERENCES dbo.QFN_EXEMPTION_ROW (qfn_exmptn_row_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_EXMPT_ROW
    FOREIGN KEY (qfn_exmptn_row_id)
    REFERENCES dbo.QFN_EXEMPTION_ROW (qfn_exmptn_row_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_LVL
    FOREIGN KEY (exempted_level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_QFN_VER
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_ITEM
    ADD CONSTRAINT FK_QFN_EXMPTN_ITEM_TYPE_CODE
    FOREIGN KEY (qfn_exmptn_item_type_code)
    REFERENCES dbo.QFN_EXEMPTION_ITEM_TYPE (qfn_exmptn_item_type_code)
go
ALTER TABLE dbo.QFN_EXEMPTION_ROW
    ADD CONSTRAINT FK_EXMPTN_ROW_EXMPTN_TAB
    FOREIGN KEY (qfn_exmptn_table_id)
    REFERENCES dbo.QFN_EXEMPTION_TABLE (qfn_exmptn_table_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_TABLE
    ADD CONSTRAINT FK_EXMPTN_TAB_EXMPTN_TYPE
    FOREIGN KEY (qfn_exmptn_tbl_type_code)
    REFERENCES dbo.QFN_EXEMPTION_TABLE_TYPE (qfn_exmptn_table_type_code)
go
ALTER TABLE dbo.QFN_EXEMPTION_TABLE
    ADD CONSTRAINT FK_EXMPTN_TAB_RULES_GRP
    FOREIGN KEY (rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.QFN_EXEMPTION_TABLE_TYPE
    ADD CONSTRAINT FK_QFN_EXMPTN_TBL_TYPE_SUBTYPE
    FOREIGN KEY (qfn_exmptn_tbl_subtype_code)
    REFERENCES dbo.QFN_EXEMPTION_TABLE_SUB_TYPE (qfn_exmptn_tbl_subtype_code)
go
ALTER TABLE dbo.QFN_ITEMS_CFN_MAP
    ADD CONSTRAINT FK_QFN_ITEMS_CFN_MAP_CFN_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.QFN_ITEMS_CFN_MAP
    ADD CONSTRAINT FK_QFN_ITEMS_CFN_MAP_QFN_ITEMS
    FOREIGN KEY (qfn_items_list_id)
    REFERENCES dbo.QFN_ITEMS_LIST (qfn_items_list_id)
go
ALTER TABLE dbo.QFN_ITEMS_LIST
    ADD CONSTRAINT FK_QFN_ITEMS_LIST_RULES_GROUP
    FOREIGN KEY (rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.QFN_ITEMS_STD_VERSION_MAP
    ADD CONSTRAINT FK_QFN_ITEMS_STD_MAP_QFN_ITEMS
    FOREIGN KEY (qfn_items_list_id)
    REFERENCES dbo.QFN_ITEMS_LIST (qfn_items_list_id)
go
ALTER TABLE dbo.QFN_ITEMS_STD_VERSION_MAP
    ADD CONSTRAINT FK_QFN_ITEMS_STD_MAP_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MINOR_VER_RULES_GROUP
    FOREIGN KEY (current_rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MINO_QFN_VERS
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MIN_VER_CONTENT_TYPE
    FOREIGN KEY (content_type_code)
    REFERENCES dbo.CONTENT_TYPE_CODE (content_type_code)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MIN_VER_JOIN_WORDS
    FOREIGN KEY (join_word_code)
    REFERENCES dbo.JOINING_WORDS (join_word_code)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MIN_VER_PRI_LAN_CODE
    FOREIGN KEY (primary_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.QFN_MINOR_VERSION
    ADD CONSTRAINT FK_QFN_MIN_VER_QFN_GRAD
    FOREIGN KEY (qfn_grading_type_code)
    REFERENCES dbo.QFN_GRADING_TYPE (qfn_grading_type_code)
go
ALTER TABLE dbo.QFN_ORGANISATION_ROLE
    ADD CONSTRAINT FK_QFN_ORG_ROLE_PER_ROLE
    FOREIGN KEY (perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.QFN_ORGANISATION_ROLE
    ADD CONSTRAINT FK_QFN_ORG_ROLE_QFN
    FOREIGN KEY (qfn_id)
    REFERENCES dbo.QFN (qfn_id)
go
ALTER TABLE dbo.QFN_ORGANISATION_ROLE
    ADD CONSTRAINT FK_QFN_ORG_ROLE_ROLE_TYPE
    FOREIGN KEY (qfn_org_role_type)
    REFERENCES dbo.QFN_ORG_ROLE_TYPE (qfn_org_role_type)
go
ALTER TABLE dbo.QFN_PREQ_EXEMPTION_STRAND
    ADD CONSTRAINT FK_PREQ_EXMT_STRAD_QFN_SCTN_TY
    FOREIGN KEY (section_type_code)
    REFERENCES dbo.QFN_SECTION_TYPE (section_type_code)
go
ALTER TABLE dbo.QFN_PREQ_EXEMPTION_STRAND
    ADD CONSTRAINT FK_PREQ_EXMT_STRAND_EXMT_ITEM
    FOREIGN KEY (qfn_exmptn_item_id)
    REFERENCES dbo.QFN_EXEMPTION_ITEM (qfn_exmptn_item_id)
go
ALTER TABLE dbo.QFN_PREREQUISITE
    ADD CONSTRAINT FK_PREREQUISITE_QFN_VERSION
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_PREREQUISITE
    ADD CONSTRAINT FK_PREREQUISITE_SECTION
    FOREIGN KEY (qfn_section_id)
    REFERENCES dbo.QFN_SECTION (qfn_section_id)
go
ALTER TABLE dbo.QFN_RULE
    ADD CONSTRAINT FK_QFN_RULE_ENDORSEMNT_VERSION
    FOREIGN KEY (endorsement_version_id)
    REFERENCES dbo.ENDORSEMENT_VERSION (endorsement_version_id)
go
ALTER TABLE dbo.QFN_RULE
    ADD CONSTRAINT FK_QFN_RULE_QFN_ITEM_LIST
    FOREIGN KEY (qfn_items_list_id)
    REFERENCES dbo.QFN_ITEMS_LIST (qfn_items_list_id)
go
ALTER TABLE dbo.QFN_RULE
    ADD CONSTRAINT FK_QFN_RULE_QFN_RULE
    FOREIGN KEY (qfn_qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_RULE
    ADD CONSTRAINT FK_QFN_RULE_QFN_RULE_TYPE
    FOREIGN KEY (qfn_rule_type)
    REFERENCES dbo.QFN_RULE_TYPE (qfn_rule_type)
go
ALTER TABLE dbo.QFN_RULE_CATEGORY
    ADD CONSTRAINT FK_QFN_RULE_CTG_CFN_CTG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.QFN_RULE_CATEGORY
    ADD CONSTRAINT FK_QFN_RULE_CTG_QFN_RULE
    FOREIGN KEY (qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_RULE_STD_VER
    ADD CONSTRAINT FK_QFN_RULE_STD_VER_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.QFN_RULE_STD_VER
    ADD CONSTRAINT FK_RULE_STD_VER_REF_RULE
    FOREIGN KEY (qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_SCENARIO
    ADD CONSTRAINT FK_QFN_CHECK_RESULT
    FOREIGN KEY (qfn_check_result_type)
    REFERENCES dbo.QFN_CHECK_RESULT_TYPE (qfn_check_result_type)
go
ALTER TABLE dbo.QFN_SCENARIO
    ADD CONSTRAINT FK_QFN_SCENARIO_QFN_VER
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_SCENARIO_COMP_STRAND
    ADD CONSTRAINT FK_QFN_SCN_CMP_STR_QFN_SCN_CMP
    FOREIGN KEY (qfn_scenario_qfn_comp_id)
    REFERENCES dbo.QFN_SCENARIO_QFN_COMPONENT (qfn_scenario_qfn_comp_id)
go
ALTER TABLE dbo.QFN_SCENARIO_COMP_STRAND
    ADD CONSTRAINT FK_QFN_SCN_CMP_STR_QFN_SECT
    FOREIGN KEY (qfn_section_id)
    REFERENCES dbo.QFN_SECTION (qfn_section_id)
go
ALTER TABLE dbo.QFN_SCENARIO_QFN_COMPONENT
    ADD CONSTRAINT FK_QFN_SCEN_COMP_QFN_SCEN
    FOREIGN KEY (qfn_scenario_id)
    REFERENCES dbo.QFN_SCENARIO (qfn_scenario_id)
go
ALTER TABLE dbo.QFN_SCENARIO_QFN_COMPONENT
    ADD CONSTRAINT FK_QFN_SCEN_COMP_QFN_VER_ID
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_SCENARIO_STD_COMPONENT
    ADD CONSTRAINT FK_COMPONENT_CONTEXT_CODE
    FOREIGN KEY (context_code)
    REFERENCES dbo.CONTEXT_CODE (context_code)
go
ALTER TABLE dbo.QFN_SCENARIO_STD_COMPONENT
    ADD CONSTRAINT FK_QFN_SCEN_COMP_STD_SCEN
    FOREIGN KEY (qfn_scenario_id)
    REFERENCES dbo.QFN_SCENARIO (qfn_scenario_id)
go
ALTER TABLE dbo.QFN_SCENARIO_STD_COMPONENT
    ADD CONSTRAINT FK_QFN_SCEN_COMP_STD_VER_ID
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.QFN_SCENARIO_STD_COMPONENT
    ADD CONSTRAINT FK_QFN_SCE_STD_COMP_RESULT
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.QFN_SCENARIO_STRAND
    ADD CONSTRAINT FK_QFN_SCENARIO_STRAND_ID
    FOREIGN KEY (qfn_scenario_id)
    REFERENCES dbo.QFN_SCENARIO (qfn_scenario_id)
go
ALTER TABLE dbo.QFN_SCENARIO_STRAND
    ADD CONSTRAINT FK_QFN_SECTION_ID
    FOREIGN KEY (qfn_section_id)
    REFERENCES dbo.QFN_SECTION (qfn_section_id)
go
ALTER TABLE dbo.QFN_SECTION
    ADD CONSTRAINT FK_QFN_SECTION_QFN_SECT_TYPE
    FOREIGN KEY (qfn_section_type_code)
    REFERENCES dbo.QFN_SECTION_TYPE (section_type_code)
go
ALTER TABLE dbo.QFN_SECTION
    ADD CONSTRAINT FK_QFN_SECT_LEVEL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.QFN_SECTION
    ADD CONSTRAINT FK_QFN_SECT_ROOT_RULE
    FOREIGN KEY (qfn_rule_id)
    REFERENCES dbo.QFN_RULE (qfn_rule_id)
go
ALTER TABLE dbo.QFN_SECTION
    ADD CONSTRAINT FK_QFN_SECT_RULES_GRP
    FOREIGN KEY (rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.QFN_SECTION_ACHIEVED
    ADD CONSTRAINT FK_QFN_SECTION_QFN_ACHIEVED
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.QFN_SECTION_ACHIEVED
    ADD CONSTRAINT FK_QFN_SECT_ACHIEVED_ACHIEVED_STATUS
    FOREIGN KEY (achieved_status_code)
    REFERENCES dbo.ACHIEVED_STATUS_CODE (achieved_status_code)
go
ALTER TABLE dbo.QFN_SECTION_ACHIEVED
    ADD CONSTRAINT FK_QFN_SECT_ACHIEVED_CERT_PRINT_STATUS
    FOREIGN KEY (certificate_print_status_code)
    REFERENCES dbo.CERTIFICATE_PRINT_STATUS_CODE (certificate_print_status_code)
go
ALTER TABLE dbo.QFN_SEC_ACHIEVED_STATUS_HIST
    ADD CONSTRAINT FK_QFN_SEC_ACH_STATUS_HIST_QFN_SECT_ACH
    FOREIGN KEY (qfn_section_achieved_id)
    REFERENCES dbo.QFN_SECTION_ACHIEVED (qfn_section_achieved_id)
go
ALTER TABLE dbo.QFN_STATUS_CODE
    ADD CONSTRAINT FK_QFN_STAT_FK_QFN_ST_QUAL_SYS
    FOREIGN KEY (qs_code)
    REFERENCES dbo.QUAL_SYSTEM_FRAMEWORK (qs_code)
go
ALTER TABLE dbo.QFN_STATUS_HISTORY
    ADD CONSTRAINT FK_QFN_STAT_FK_QFN_ST_QFN_STAT
    FOREIGN KEY (qfn_status_code)
    REFERENCES dbo.QFN_STATUS_CODE (qfn_status_code)
go
ALTER TABLE dbo.QFN_STATUS_HISTORY
    ADD CONSTRAINT FK_QFN_STAT_HIST_QFN
    FOREIGN KEY (qfn_id)
    REFERENCES dbo.QFN (qfn_id)
go
ALTER TABLE dbo.QFN_TYPE
    ADD CONSTRAINT FK_QFN_TYPE_CERT_TYPE
    FOREIGN KEY (default_certificate_type)
    REFERENCES dbo.CERTIFICATE_TYPE (certificate_type_code)
go
ALTER TABLE dbo.QFN_TYPE
    ADD CONSTRAINT FK_QFN_TYPE_FK_QFN_CLASS
    FOREIGN KEY (qfn_class_code)
    REFERENCES dbo.QFN_CLASS_CODE (qfn_class_code)
go
ALTER TABLE dbo.QFN_TYPE
    ADD CONSTRAINT FK_QFN_TYPE_FK_QFN_TY_QUAL_SYS
    FOREIGN KEY (qs_code)
    REFERENCES dbo.QUAL_SYSTEM_FRAMEWORK (qs_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERSION_REG_COMPLIANT
    FOREIGN KEY (register_compliant_code)
    REFERENCES dbo.REGISTER_COMPLIANT_CODE (register_compliant_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_PERORG_ROLE
    FOREIGN KEY (ssb_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_PROCESS_TYPE
    FOREIGN KEY (process_type_code)
    REFERENCES dbo.PROCESS_TYPE_CODE (process_type_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_QA_EVENT
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_QFN
    FOREIGN KEY (qfn_id)
    REFERENCES dbo.QFN (qfn_id)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_QFN_STATUS
    FOREIGN KEY (proposed_qfn_status_code)
    REFERENCES dbo.QFN_STATUS_CODE (qfn_status_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VERS_QFN_VER_STATUS
    FOREIGN KEY (qfn_version_status_code)
    REFERENCES dbo.QFN_VERSION_STATUS_CODE (qfn_version_status_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VER_LATEST_QFN_MIN_VER
    FOREIGN KEY (latest_qfn_minor_version_id)
    REFERENCES dbo.QFN_MINOR_VERSION (qfn_minor_version_id)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VER_QA_APRV_RTNG_CODE
    FOREIGN KEY (qa_aprv_rating_code)
    REFERENCES dbo.QA_APRV_RATING_CODE (qa_aprv_rating_code)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VER_QFN_MIN_VER1
    FOREIGN KEY (latest_pub_qfn_minor_ver_id)
    REFERENCES dbo.QFN_MINOR_VERSION (qfn_minor_version_id)
go
ALTER TABLE dbo.QFN_VERSION
    ADD CONSTRAINT FK_QFN_VER_QUAL_APPLN
    FOREIGN KEY (qual_application_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.QFN_VERSION_CLASSIFICATION
    ADD CONSTRAINT FK_QFN_VERS_QFN_VE_CFN_CATE
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.QFN_VERSION_CLASSIFICATION
    ADD CONSTRAINT FK_QFN_VER_CLASS_QFN_VER
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_QFN_PUB_HIST_QFN_VER
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_QFN_VER_PUB_HIST_PUB_CODE
    FOREIGN KEY (qual_publication_code)
    REFERENCES dbo.QUAL_PUBLICATION_CODE (qual_publication_code)
go
ALTER TABLE dbo.QFN_VERSION_STATUS_CODE
    ADD CONSTRAINT FK_QFN_VERS_FK_QFN_VE_QUAL_SYS
    FOREIGN KEY (qs_code)
    REFERENCES dbo.QUAL_SYSTEM_FRAMEWORK (qs_code)
go
ALTER TABLE dbo.QFN_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_QFN_VER_STAT_HIS_QFN_VERS
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_QFN_VER_STAT_HIS_QFN_VR_CD
    FOREIGN KEY (qfn_version_status_code)
    REFERENCES dbo.QFN_VERSION_STATUS_CODE (qfn_version_status_code)
go
ALTER TABLE dbo.QFN_VER_ENDORSEMENT_VER
    ADD CONSTRAINT FK_QFN_VERS_ENDORS_QFN_VERS
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_VER_ENDORSEMENT_VER
    ADD CONSTRAINT FK_QFN_VER_ENDOR_VER_ENDOR_VER
    FOREIGN KEY (endorsement_version_id)
    REFERENCES dbo.ENDORSEMENT_VERSION (endorsement_version_id)
go
ALTER TABLE dbo.QFN_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_QFN_VERS_QA_EVENT_HIST
    FOREIGN KEY (qfn_version_id)
    REFERENCES dbo.QFN_VERSION (qfn_version_id)
go
ALTER TABLE dbo.QFN_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_QFN_VER_EVENT_HIST_QA_EVENT
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.QRS_APPLICANT
    ADD CONSTRAINT FK_QRS_APPLICANT_COUNTRY_CODE
    FOREIGN KEY (country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.QRS_APPLICANT
    ADD CONSTRAINT FK_QRS_APPLICANT_GENDER_CODE
    FOREIGN KEY (gender_code)
    REFERENCES dbo.GENDER_CODE (gender_code)
go
ALTER TABLE dbo.QRS_INSTITUTION
    ADD CONSTRAINT FK_QRS_INSTITUTION_PERORG_ROLE
    FOREIGN KEY (qrs_institution_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.QRS_INSTITUTION
    ADD CONSTRAINT FK_QRS_INST_COUNTRY_CODE
    FOREIGN KEY (country_code)
    REFERENCES dbo.COUNTRY_CODE (country_code)
go
ALTER TABLE dbo.QRS_INSTITUTION
    ADD CONSTRAINT FK_QRS_INST_CURRENCY_CODE
    FOREIGN KEY (currency_code)
    REFERENCES dbo.CURRENCY (currency_code)
go
ALTER TABLE dbo.QRS_INSTITUTION_QFN
    ADD CONSTRAINT FK_QRS_INST_QFN_QRS_INST
    FOREIGN KEY (qrs_institution_id)
    REFERENCES dbo.QRS_INSTITUTION (qrs_institution_id)
go
ALTER TABLE dbo.QRS_STG_APPLICATION
    ADD CONSTRAINT FK_QRS_STG_APPL_PAYMENT
    FOREIGN KEY (payment_id)
    REFERENCES dbo.PAYMENT (payment_id)
go
ALTER TABLE dbo.QRS_STG_APPLICATION
    ADD CONSTRAINT FK_QRS_STG_APPL_QRS_APPL
    FOREIGN KEY (qrs_applicant_id)
    REFERENCES dbo.QRS_APPLICANT (qrs_applicant_id)
go
ALTER TABLE dbo.QRS_STG_APPLN_OTHER_DOC
    ADD CONSTRAINT FK_QRS_STG_APPL_OTH_DOC_STG_AP
    FOREIGN KEY (qrs_stg_application_id)
    REFERENCES dbo.QRS_STG_APPLICATION (qrs_stg_application_id)
go
ALTER TABLE dbo.QRS_STG_APPLN_QFN
    ADD CONSTRAINT FK_QRS_STG_APPL_QFN_QRS_STG_AP
    FOREIGN KEY (qrs_stg_application_id)
    REFERENCES dbo.QRS_STG_APPLICATION (qrs_stg_application_id)
go
ALTER TABLE dbo.QRS_STG_APPLN_QFN
    ADD CONSTRAINT FK_QRS_STG_APP_QFN_INST_QFN
    FOREIGN KEY (qrs_institution_qfn_id)
    REFERENCES dbo.QRS_INSTITUTION_QFN (qrs_institution_qfn_id)
go
ALTER TABLE dbo.QRS_STG_APPLN_QFN
    ADD CONSTRAINT FK_QRS_STG_APP_QRS_INST
    FOREIGN KEY (qrs_institution_id)
    REFERENCES dbo.QRS_INSTITUTION (qrs_institution_id)
go
ALTER TABLE dbo.QRS_STG_APPLN_WORK_EXPERNCE
    ADD CONSTRAINT FK_QRS_STG_APP_WK_EX_STG_APP
    FOREIGN KEY (qrs_stg_application_id)
    REFERENCES dbo.QRS_STG_APPLICATION (qrs_stg_application_id)
go
ALTER TABLE dbo.QUAL_APPLICATION
    ADD CONSTRAINT FK_APP_APP_STATUS
    FOREIGN KEY (qual_app_status_code)
    REFERENCES dbo.QUAL_APP_STATUS_CODE (qual_app_status_code)
go
ALTER TABLE dbo.QUAL_APPLICATION
    ADD CONSTRAINT FK_APP_APP_TYPE
    FOREIGN KEY (qual_app_type_code)
    REFERENCES dbo.QUAL_APP_TYPE_CODE (qual_app_type_code)
go
ALTER TABLE dbo.QUAL_APPLICATION
    ADD CONSTRAINT FK_APP_STD_APP_TYPE
    FOREIGN KEY (qual_app_std_type_code)
    REFERENCES dbo.QUAL_APP_STD_TYPE_CODE (qual_app_std_type_code)
go
ALTER TABLE dbo.QUAL_APPLICATION
    ADD CONSTRAINT FK_QUAL_APP_CONTACT_REL
    FOREIGN KEY (ssb_contact_rel_id)
    REFERENCES dbo.RELATIONSHIP (rel_id)
go
ALTER TABLE dbo.QUAL_APPLICATION
    ADD CONSTRAINT FK_QUAL_APP_PERORG_ROLE
    FOREIGN KEY (ssb_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.QUAL_APP_APP_MAPPING
    ADD CONSTRAINT FK_APP_APP_MAPPING_QUAL_APP1
    FOREIGN KEY (qual_application1_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.QUAL_APP_APP_MAPPING
    ADD CONSTRAINT FK_APP_APP_MAPPING_QUAL_APP2
    FOREIGN KEY (qual_application2_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.QUAL_APP_STATUS_HISTORY
    ADD CONSTRAINT FK_APP_STATUS_HIST_STATUS
    FOREIGN KEY (qual_app_status_code)
    REFERENCES dbo.QUAL_APP_STATUS_CODE (qual_app_status_code)
go
ALTER TABLE dbo.QUAL_APP_STATUS_HISTORY
    ADD CONSTRAINT FK_QUAL_APP_STATUS_HIST_APP
    FOREIGN KEY (qual_application_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.QUAL_CHECK_RESULT
    ADD CONSTRAINT FK_QUAL_CHECK_RESULT_TYPE
    FOREIGN KEY (qual_check_result)
    REFERENCES dbo.QUAL_CHECK_RESULT_TYPE (qual_check_result_type_code)
go
ALTER TABLE dbo.QUAL_SYSTEM_FRAMEWORK
    ADD CONSTRAINT FK_QUAL_SYS_PRIMARY_SYS_TYPE
    FOREIGN KEY (primary_cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.QUAL_SYSTEM_FRAMEWORK
    ADD CONSTRAINT FK_QUAL_SYS_SECONDARY_SYS_TYPE
    FOREIGN KEY (secondary_cfn_system_code)
    REFERENCES dbo.CFN_SYSTEM_TYPE (cfn_system_code)
go
ALTER TABLE dbo.RECONSIDERATION_ENTRY
    ADD CONSTRAINT FK_RECONS_ENTRY_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.RECONSIDERATION_ENTRY
    ADD CONSTRAINT FK_RECONS_ENTRY_RECONS_PAGE
    FOREIGN KEY (reconsideration_page_id)
    REFERENCES dbo.RECONSIDERATION_PAGE (reconsideration_page_id)
go
ALTER TABLE dbo.RECONSIDERATION_PAGE
    ADD CONSTRAINT FK_RECONS_PAGE_ASSMT_SESSION
    FOREIGN KEY (assessment_session_id)
    REFERENCES dbo.ASSESSMENT_SESSION (assessment_session_id)
go
ALTER TABLE dbo.RECONSIDERATION_PAGE
    ADD CONSTRAINT FK_RECONS_PAGE_MARKER
    FOREIGN KEY (panel_leader_marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.RECONSIDERATION_PAGE
    ADD CONSTRAINT FK_RECONS_PAGE_RECONS_RUN
    FOREIGN KEY (reconsideration_run_id)
    REFERENCES dbo.RECONSIDERATION_RUN (reconsideration_run_id)
go
ALTER TABLE dbo.RECONSIDERATION_RUN
    ADD CONSTRAINT FK_ENTRY_RECON_RUN_STATUS
    FOREIGN KEY (recons_run_status)
    REFERENCES dbo.RECONSIDERATION_RUN_STATUS (recons_run_status)
go
ALTER TABLE dbo.RECONSIDERATION_RUN
    ADD CONSTRAINT FK_RECON_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.RECONSIDERATION_RUN
    ADD CONSTRAINT FK_RECON_RUN_RECON_OPTION_CODE
    FOREIGN KEY (reconsideration_option_code)
    REFERENCES dbo.RECONSIDERATION_OPTION_CODE (reconsideration_option_code)
go
ALTER TABLE dbo.REGION
    ADD CONSTRAINT FK_REGION_REGION_GROUP
    FOREIGN KEY (region_group_code)
    REFERENCES dbo.REGION_GROUP (region_group_code)
go
ALTER TABLE dbo.RELATIONSHIP
    ADD CONSTRAINT FK_RELATIONHIP_ORIG_REF
    FOREIGN KEY (original_reference_id)
    REFERENCES dbo.RELATIONSHIP (rel_id)
go
ALTER TABLE dbo.RELATIONSHIP
    ADD CONSTRAINT FK_RELATIONSHIP_PERORG
    FOREIGN KEY (perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.RELATIONSHIP
    ADD CONSTRAINT FK_RELATIONSHIP_RELATED_PERORG
    FOREIGN KEY (related_perorg_id)
    REFERENCES dbo.PERORG (perorg_id)
go
ALTER TABLE dbo.RELATIONSHIP
    ADD CONSTRAINT FK_REL_REL_TYPE_CODE
    FOREIGN KEY (rel_type_code)
    REFERENCES dbo.RELATIONSHIP_TYPE (rel_type_code)
go
ALTER TABLE dbo.RELATIONSHIP_COMBO
    ADD CONSTRAINT FK_RELATIONSHIP_COMBO_FROM
    FOREIGN KEY (perorg_type_from)
    REFERENCES dbo.PERORG_TYPE (perorg_type_code)
go
ALTER TABLE dbo.RELATIONSHIP_COMBO
    ADD CONSTRAINT FK_RELATIONSHIP_COMBO_TO
    FOREIGN KEY (perorg_type_to)
    REFERENCES dbo.PERORG_TYPE (perorg_type_code)
go
ALTER TABLE dbo.RELATIONSHIP_COMBO
    ADD CONSTRAINT FK_REL_COMBO_REL_TYPE_CODE
    FOREIGN KEY (rel_type_code)
    REFERENCES dbo.RELATIONSHIP_TYPE (rel_type_code)
go
ALTER TABLE dbo.REPORT
    ADD CONSTRAINT FK_REPORT_REPORT_ROLE
    FOREIGN KEY (report_role)
    REFERENCES dbo.REPORT_ROLE (report_role)
go
ALTER TABLE dbo.REPORT_CATEGORY
    ADD CONSTRAINT FK_REPORT_CATEGORY_PARENT
    FOREIGN KEY (parent_code)
    REFERENCES dbo.REPORT_CATEGORY (report_category_code)
go
ALTER TABLE dbo.REPORT_CONTEXT
    ADD CONSTRAINT FK_REPORT_2_REPORT_CONTEXT
    FOREIGN KEY (report_id)
    REFERENCES dbo.REPORT (report_id)
go
ALTER TABLE dbo.REPORT_CONTEXT
    ADD CONSTRAINT FK_REPORT_CATEGORY_CODE
    FOREIGN KEY (report_category_code)
    REFERENCES dbo.REPORT_CATEGORY (report_category_code)
go
ALTER TABLE dbo.REPORT_CONTEXT
    ADD CONSTRAINT FK_REPORT_ITERATION_MODE
    FOREIGN KEY (iteration_mode)
    REFERENCES dbo.REPORT_ITERATION_MODE (iteration_mode)
go
ALTER TABLE dbo.REPORT_INSTANCE
    ADD CONSTRAINT FK_REPORT
    FOREIGN KEY (report_id)
    REFERENCES dbo.REPORT (report_id)
go
ALTER TABLE dbo.REPORT_INSTANCE
    ADD CONSTRAINT FK_REPORT_INSTANCE_PARENT
    FOREIGN KEY (parent_id)
    REFERENCES dbo.REPORT_INSTANCE (report_instance_id)
go
ALTER TABLE dbo.REPORT_INSTANCE
    ADD CONSTRAINT FK_REPORT_INSTANCE_TYPE
    FOREIGN KEY (report_type)
    REFERENCES dbo.REPORT_TYPE (report_type)
go
ALTER TABLE dbo.REPORT_INSTANCE
    ADD CONSTRAINT FK_REPORT_STATUS
    FOREIGN KEY (report_status_code)
    REFERENCES dbo.REPORT_STATUS (report_status_code)
go
ALTER TABLE dbo.REPORT_INSTANCE_PARAMETER
    ADD CONSTRAINT FK_REPORT_INSTANCE
    FOREIGN KEY (report_instance_id)
    REFERENCES dbo.REPORT_INSTANCE (report_instance_id)
go
ALTER TABLE dbo.REPORT_PARAMETER_CONFIG
    ADD CONSTRAINT FK_REPORT_CATEGORY_2_RPC
    FOREIGN KEY (report_category_code)
    REFERENCES dbo.REPORT_CATEGORY (report_category_code)
go
ALTER TABLE dbo.REPORT_PARAMETER_CONFIG
    ADD CONSTRAINT FK_REPORT_FIELD_TYPE
    FOREIGN KEY (field_type)
    REFERENCES dbo.REPORT_FIELD_TYPE (report_field_type)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_ASSESSMENT_METHOD
    FOREIGN KEY (assessment_method)
    REFERENCES dbo.ASSESSMENT_METHOD (assessment_method)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_COMPASSIONATE_ENTRY
    FOREIGN KEY (compassionate_entry_id)
    REFERENCES dbo.COMPASSIONATE_ENTRY (compassionate_entry_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_CREATE_BATCH
    FOREIGN KEY (created_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_ENTRY_YEAR
    FOREIGN KEY (entry_id,academic_year)
    REFERENCES dbo.ENTRY (entry_id,academic_year)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_FK_RESULT_RESULT_T
    FOREIGN KEY (result_type_id)
    REFERENCES dbo.RESULT_TYPE (result_type_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_RECON_ENTRY
    FOREIGN KEY (reconsideration_entry_id)
    REFERENCES dbo.RECONSIDERATION_ENTRY (reconsideration_entry_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_REFERENCE_MARKER
    FOREIGN KEY (marker_id)
    REFERENCES dbo.MARKER (marker_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_REFERENCE_MERGE_RE
    FOREIGN KEY (merge_request_number)
    REFERENCES dbo.MERGE_REQUEST (merge_request_number)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_REFERENCE_PROXIMITY
    FOREIGN KEY (proximity_code)
    REFERENCES dbo.PROXIMITY_CODE (proximity_code)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_RESULT_CODE
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_RES_COMP_LK
    FOREIGN KEY (result_component_link_id)
    REFERENCES dbo.RESULT_COMPONENT_LINK (result_component_link_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_REVIEW
    FOREIGN KEY (entry_review_id)
    REFERENCES dbo.ENTRY_REVIEW (entry_review_id)
go
ALTER TABLE dbo.RESULT
    ADD CONSTRAINT FK_RESULT_UPDATE_BATCH
    FOREIGN KEY (updated_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.RESULT_COMPONENT
    ADD CONSTRAINT FK_RESULT_COMP_RES_COMP_LINK
    FOREIGN KEY (result_component_link_id)
    REFERENCES dbo.RESULT_COMPONENT_LINK (result_component_link_id)
go
ALTER TABLE dbo.RESULT_COMPONENT
    ADD CONSTRAINT FK_RESULT_COMP_RES_COMP_QN
    FOREIGN KEY (result_component_question_id)
    REFERENCES dbo.RESULT_COMPONENT_QUESTION (result_component_question_id)
go
ALTER TABLE dbo.RESULT_COMPONENT_LINK
    ADD CONSTRAINT FK_RESULT_COMP_LINK_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.RESULT_COMPONENT_LINK
    ADD CONSTRAINT FK_RESULT_COMP_LINK_LEARNER
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.RESULT_COMPONENT_QUESTION
    ADD CONSTRAINT FK_RESULT_COMP_QN_ASS_SESS_COM
    FOREIGN KEY (assessment_session_comp_id)
    REFERENCES dbo.ASSESSMENT_SESSION_COMPONENT (assessment_session_comp_id)
go
ALTER TABLE dbo.RESULT_COMPONENT_QUESTION
    ADD CONSTRAINT FK_RESULT_COMP_QN_QN_TYPE
    FOREIGN KEY (result_component_qn_type)
    REFERENCES dbo.RESULT_COMPONENT_QN_TYPE (result_component_qn_type)
go
ALTER TABLE dbo.RESULT_RANKING
    ADD CONSTRAINT FK_RESULT_RANKING_GRADE_TYPE
    FOREIGN KEY (std_grading_type_code)
    REFERENCES dbo.STD_GRADING_TYPE (std_grading_type_code)
go
ALTER TABLE dbo.RESULT_RANKING
    ADD CONSTRAINT FK_RESULT_RANKING_RESULT
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.RISK_ISSUE_INDEX_HIST
    ADD CONSTRAINT FK_RSK_ISS_IND_HST_PRO_RSK_ISS
    FOREIGN KEY (prov_risk_issue_id)
    REFERENCES dbo.PROV_RISK_ISSUE (prov_risk_issue_id)
go
ALTER TABLE dbo.RISK_ISSUE_STATUS_HIST
    ADD CONSTRAINT FK_RSK_ISS_STA_HST_PRO_RSK_ISS
    FOREIGN KEY (prov_risk_issue_id)
    REFERENCES dbo.PROV_RISK_ISSUE (prov_risk_issue_id)
go
ALTER TABLE dbo.RISK_ISSUE_STATUS_HIST
    ADD CONSTRAINT FK_RSK_ISS_STA_HST_RSK_ISS_STA
    FOREIGN KEY (risk_issue_status_code)
    REFERENCES dbo.RISK_ISSUE_STATUS (risk_issue_status_code)
go
ALTER TABLE dbo.RULES_GROUP
    ADD CONSTRAINT FK_RULES_GRP_QFN_MINOR_VER
    FOREIGN KEY (qfn_minor_version_id)
    REFERENCES dbo.QFN_MINOR_VERSION (qfn_minor_version_id)
go
ALTER TABLE dbo.RULES_GROUP
    ADD CONSTRAINT FK_RULES_GRP_QFN_PLUGIN
    FOREIGN KEY (plugin_type_code)
    REFERENCES dbo.QFN_PLUGIN_RULE_TYPE (qfn_plugin_rule_type_code)
go
ALTER TABLE dbo.RULES_GROUP_OPT_STD
    ADD CONSTRAINT FK_RULES_GRP_OPT_STD_RULES_GRP
    FOREIGN KEY (rules_group_id)
    REFERENCES dbo.RULES_GROUP (rules_group_id)
go
ALTER TABLE dbo.RULES_GROUP_OPT_STD
    ADD CONSTRAINT FK_RULES_GRP_OPT_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.SCHEDULE_RESULT_TYPE
    ADD CONSTRAINT FK_SCHEDULE_RESULT_TYPE_RESULT
    FOREIGN KEY (result_type_id)
    REFERENCES dbo.RESULT_TYPE (result_type_id)
go
ALTER TABLE dbo.SCHEDULE_RESULT_TYPE
    ADD CONSTRAINT FK_SCHEDULE_RESULT_TYPE_SCHED
    FOREIGN KEY (schedule_type)
    REFERENCES dbo.SCHEDULE_TYPE (schedule_type)
go
ALTER TABLE dbo.SCHOOL_ASSISTANCE_CODE_DTL
    ADD CONSTRAINT FK_ASSISTANCE_DETAIL
    FOREIGN KEY (assistance_code)
    REFERENCES dbo.ASSISTANCE_CODE (assistance_code)
go
ALTER TABLE dbo.SCHOOL_ASSISTANCE_CODE_DTL
    ADD CONSTRAINT FK_ASSISTANCE_DETAIL_SCHOOL
    FOREIGN KEY (school_assistance_code)
    REFERENCES dbo.SCHOOL_ASSISTANCE_CODE (school_assistance_code)
go
ALTER TABLE dbo.SDR_COURSE
    ADD CONSTRAINT FK_SDR_COURSE_SDR_QUAL_COMPLETION
    FOREIGN KEY (sdr_qual_completion_id)
    REFERENCES dbo.SDR_QUAL_COMPLETION (sdr_qual_completion_id)
go
ALTER TABLE dbo.SDR_TEC_NZQA_QUAL_MAPPING
    ADD CONSTRAINT FK_SDR_TEC_QUAL_NZQA_MAPPING
    FOREIGN KEY (sdr_tec_qual_id)
    REFERENCES dbo.SDR_TEC_QUAL (sdr_tec_qual_id)
go
ALTER TABLE dbo.SDR_TEC_NZQA_QUAL_NSN_MAPPING
    ADD CONSTRAINT FK_SDR_TEC_QUAL_NSN_MAPPING
    FOREIGN KEY (sdr_tec_qual_id)
    REFERENCES dbo.SDR_TEC_QUAL (sdr_tec_qual_id)
go
ALTER TABLE dbo.SDR_TEC_NZQA_QUAL_NSN_MAP_QFN_ACHIEVED
    ADD CONSTRAINT FK_SDR_TEC_NZQA_QUAL_NSN_MAP_QFN_ACHIEVED_QFNA
    FOREIGN KEY (qfn_achieved_id)
    REFERENCES dbo.QFN_ACHIEVED (qfn_achieved_id)
go
ALTER TABLE dbo.SDR_TEC_NZQA_QUAL_NSN_MAP_QFN_ACHIEVED
    ADD CONSTRAINT FK_SDR_TEC_NZQA_QUAL_NSN_MAP_QFN_ACHIEVED_STNQNM
    FOREIGN KEY (sdr_tec_nzqa_qual_nsn_mapping_id)
    REFERENCES dbo.SDR_TEC_NZQA_QUAL_NSN_MAPPING (sdr_tec_nzqa_qual_nsn_mapping_id)
go
ALTER TABLE dbo.SDR_TEC_NZQA_QUAL_SUGGESTED_MAPPING
    ADD CONSTRAINT FK_SDR_TEC_QUAL_SUG_MAPPING
    FOREIGN KEY (sdr_tec_qual_id)
    REFERENCES dbo.SDR_TEC_QUAL (sdr_tec_qual_id)
go
ALTER TABLE dbo.SDR_TEC_QUAL
    ADD CONSTRAINT FK_SDR_TEC_QUAL_SDR_PROVIDER
    FOREIGN KEY (moe_provider_id)
    REFERENCES dbo.SDR_PROVIDER (moe_provider_id)
go
ALTER TABLE dbo.SECONDARY_COURSE
    ADD CONSTRAINT FK_SEC_COURSE_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.SECONDARY_COURSE
    ADD CONSTRAINT FK_SEC_COURSE_PROVIDER
    FOREIGN KEY (moe_provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.SECONDARY_COURSE
    ADD CONSTRAINT FK_SEC_CRSE_CREATE_BATCH_INPUT
    FOREIGN KEY (created_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.SECONDARY_COURSE
    ADD CONSTRAINT FK_SEC_CRSE_UPDATE_BATCH_INPUT
    FOREIGN KEY (updated_batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.SECONDARY_COURSE_HIST
    ADD CONSTRAINT FK_SEC_COURSE_HIST_SEC_COURSE
    FOREIGN KEY (secondary_course_id)
    REFERENCES dbo.SECONDARY_COURSE (secondary_course_id)
go
ALTER TABLE dbo.SECONDARY_COURSE_INPUT
    ADD CONSTRAINT FK_COURSE_INPUT_BATCH
    FOREIGN KEY (batch_input_id)
    REFERENCES dbo.BATCH_INPUT (batch_input_id)
go
ALTER TABLE dbo.SEC_COURSE_STD_HIST
    ADD CONSTRAINT FK_SEC_CRSE_STD_HIST_SEC_CRSE
    FOREIGN KEY (secondary_course_id)
    REFERENCES dbo.SECONDARY_COURSE (secondary_course_id)
go
ALTER TABLE dbo.SEC_COURSE_STD_HIST
    ADD CONSTRAINT FK_SEC_CRSE_STD_HIST_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.SESSION_PRE_PERS_ADDL_VOL
    ADD CONSTRAINT FK_ASSESS_SESS_VOL_ASSESS_CTR
    FOREIGN KEY (exam_centre_id,exam_centre_location)
    REFERENCES dbo.ASSESSMENT_CENTRE (moe_provider_id,location)
go
ALTER TABLE dbo.SESSION_PRE_PERS_ADDL_VOL
    ADD CONSTRAINT FK_ASSESS_SESS_VOL_ASSESS_SESS
    FOREIGN KEY (assess_sess_title_name,academic_year)
    REFERENCES dbo.ASSESSMENT_SESSION (title,assessment_cycle_id)
go
ALTER TABLE dbo.SFP_ARGMT_SUB_TYPE
    ADD CONSTRAINT FK_SFP_ARGMT_SUB_TYP_SFP_ARGMT
    FOREIGN KEY (sfp_argmt_type_code)
    REFERENCES dbo.SFP_ARGMT_TYPE (sfp_argmt_type_code)
go
ALTER TABLE dbo.SOP_MILESTONE
    ADD CONSTRAINT FK_SOP_MILESTONE_ACHV_STA_HIST
    FOREIGN KEY (crse_endr_achv_sta_hist_id)
    REFERENCES dbo.CRSE_ENDR_ACHV_STA_HIST (crse_endr_achv_sta_hist_id)
go
ALTER TABLE dbo.SOP_MILESTONE
    ADD CONSTRAINT FK_SOP_MILESTONE_CRSE_ENDR_SOP
    FOREIGN KEY (crse_endr_sop_id)
    REFERENCES dbo.CRSE_ENDR_SOP (crse_endr_sop_id)
go
ALTER TABLE dbo.SPER_YTD_RECON_LEARNER
    ADD CONSTRAINT FK_YTD_RECON_ENROLMENT
    FOREIGN KEY (enrolment_id)
    REFERENCES dbo.LEARNER_ENROLMENT (enrolment_id)
go
ALTER TABLE dbo.SPER_YTD_RECON_LEARNER
    ADD CONSTRAINT FK_YTD_RECON_NSN
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.SRS_REQUEST
    ADD CONSTRAINT FK_SRS_REQUEST_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.SRS_REQUEST
    ADD CONSTRAINT FK_SRS_REQUEST_COM_METHOD
    FOREIGN KEY (com_method_id)
    REFERENCES dbo.COM_METHOD (com_method_id)
go
ALTER TABLE dbo.SRS_REQUEST
    ADD CONSTRAINT FK_SRS_REQUEST_LEARNER
    FOREIGN KEY (learner_id)
    REFERENCES dbo.LEARNER (learner_id)
go
ALTER TABLE dbo.STANDARD_INPUT
    ADD CONSTRAINT FK_STANDARD_INPUT_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.STANDARD_INPUT
    ADD CONSTRAINT FK_STANDARD_INPUT_RESULT
    FOREIGN KEY (result_id)
    REFERENCES dbo.RESULT (result_id)
go
ALTER TABLE dbo.STANDARD_INPUT
    ADD CONSTRAINT FK_STANDARD_LEARNER_INPUT
    FOREIGN KEY (learner_input_id)
    REFERENCES dbo.LEARNER_INPUT (learner_input_id)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER
    ADD CONSTRAINT FK_STATS_ENTRY_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER
    ADD CONSTRAINT FK_STATS_ENTRY_PROVIDER
    FOREIGN KEY (provider_id,provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER
    ADD CONSTRAINT FK_STATS_ENTRY_STD_VERS
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER
    ADD CONSTRAINT FK_STATS_ENTRY_STUDY_PROVIDER
    FOREIGN KEY (study_provider_id,study_provider_location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER_RESULT
    ADD CONSTRAINT FK_STATS_ENT_PROV_RESULT_STATS
    FOREIGN KEY (stats_entry_provider_id)
    REFERENCES dbo.STATS_ENTRY_PROVIDER (stats_entry_provider_id)
go
ALTER TABLE dbo.STATS_ENTRY_PROVIDER_RESULT
    ADD CONSTRAINT FK_STATS_ENT_PROV_RES_RES_CODE
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.STATS_KEY_INDICATOR
    ADD CONSTRAINT FK_STATS_KEY_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.STATS_KEY_INDICATOR
    ADD CONSTRAINT FK_STATS_KEY_PROVIDER
    FOREIGN KEY (moe_provider_id,location)
    REFERENCES dbo.PROVIDER (moe_provider_id,location)
go
ALTER TABLE dbo.STATUS_REASON_CODE
    ADD CONSTRAINT FK_STATUS_REASON_POR_STATUS
    FOREIGN KEY (perorg_role_type_code,perorg_role_status_code)
    REFERENCES dbo.PERORG_ROLE_STATUS (perorg_role_type_code,perorg_role_status_code)
go
ALTER TABLE dbo.STD
    ADD CONSTRAINT FK_STD_FK_STD_FK_STD_STAT
    FOREIGN KEY (std_status_code)
    REFERENCES dbo.STD_STATUS_CODE (std_status_code)
go
ALTER TABLE dbo.STD
    ADD CONSTRAINT FK_STD_LATEST_REG_STD_VER
    FOREIGN KEY (latest_reg_std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD
    ADD CONSTRAINT FK_STD_LATEST_STD_VERSION
    FOREIGN KEY (latest_std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD
    ADD CONSTRAINT FK_STD_STD_TYPE
    FOREIGN KEY (std_type_code)
    REFERENCES dbo.STD_TYPE_CODE (std_type_code)
go
ALTER TABLE dbo.STD
    ADD CONSTRAINT FK_STD_WEB_STD_VERSION
    FOREIGN KEY (web_std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD_CONTEXT_MAP
    ADD CONSTRAINT FK_STD_CONTEXT_MAP_CONTEXT
    FOREIGN KEY (context_code)
    REFERENCES dbo.CONTEXT_CODE (context_code)
go
ALTER TABLE dbo.STD_CONTEXT_MAP
    ADD CONSTRAINT FK_STD_CONTEXT_MAP_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.STD_EXEMPTION
    ADD CONSTRAINT FK_STD_EXEMP_CRSE_ENDR_EXEMP
    FOREIGN KEY (crse_endr_exemption_id)
    REFERENCES dbo.CRSE_ENDR_EXEMPTION (crse_endr_exemption_id)
go
ALTER TABLE dbo.STD_EXEMPTION
    ADD CONSTRAINT FK_STD_EXEM_FK_STD_EX_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.STD_GRADING_TYPE
    ADD CONSTRAINT FK_STD_GRADING_TYPE_STD_SCHEME
    FOREIGN KEY (std_grading_scheme_code)
    REFERENCES dbo.STD_GRADING_SCHEME_CODE (std_grading_scheme_code)
go
ALTER TABLE dbo.STD_GRAD_SCHEME_STD_TYPE
    ADD CONSTRAINT FK_GRAD_SCHEME_STD_TYPE_SCHEME
    FOREIGN KEY (std_grading_scheme_code)
    REFERENCES dbo.STD_GRADING_SCHEME_CODE (std_grading_scheme_code)
go
ALTER TABLE dbo.STD_GRAD_SCHEME_STD_TYPE
    ADD CONSTRAINT FK_GRAD_SCHEME_STD_TYPE_TYPE
    FOREIGN KEY (std_type_code)
    REFERENCES dbo.STD_TYPE_CODE (std_type_code)
go
ALTER TABLE dbo.STD_GRAD_TYPE_ASSMNT_TYPE
    ADD CONSTRAINT FK_STD_GRAD_ASS_TYP_STD_GRAD
    FOREIGN KEY (std_grading_type_code)
    REFERENCES dbo.STD_GRADING_TYPE (std_grading_type_code)
go
ALTER TABLE dbo.STD_GRAD_TYPE_ASSMNT_TYPE
    ADD CONSTRAINT FK_STD_GRD_ASS_TYP_ASS_TYP
    FOREIGN KEY (assessment_type_code)
    REFERENCES dbo.ASSESSMENT_TYPE (assessment_type_code)
go
ALTER TABLE dbo.STD_GROUP
    ADD CONSTRAINT FK_STD_GROUP_ALT_LANGUAGE
    FOREIGN KEY (secondary_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.STD_GROUP
    ADD CONSTRAINT FK_STD_GROUP_PRIM_LANGUAGE
    FOREIGN KEY (primary_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.STD_GROUP
    ADD CONSTRAINT FK_STD_GRP_STD_GRP_TYPE
    FOREIGN KEY (std_group_type_code)
    REFERENCES dbo.STD_GROUP_TYPE (std_group_type_code)
go
ALTER TABLE dbo.STD_GROUP
    ADD CONSTRAINT FK_STD_GRP_STD_OWNER_CODE
    FOREIGN KEY (std_group_owner_code)
    REFERENCES dbo.STD_GROUP_OWNER_CODE (std_group_owner_code)
go
ALTER TABLE dbo.STD_GROUP_CFN_MAPPING
    ADD CONSTRAINT FK_STD_GRP_CFN_MAP_CATG
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.STD_GROUP_CFN_MAPPING
    ADD CONSTRAINT FK_STD_GRP_CFN_MAP_STD_GR
    FOREIGN KEY (std_group_id)
    REFERENCES dbo.STD_GROUP (std_group_id)
go
ALTER TABLE dbo.STD_GROUP_COVERAGE
    ADD CONSTRAINT FK_STD_GRP_COVG_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.STD_GROUP_COVERAGE
    ADD CONSTRAINT FK_STD_GRP_COVG_STD_GR
    FOREIGN KEY (std_group_id)
    REFERENCES dbo.STD_GROUP (std_group_id)
go
ALTER TABLE dbo.STD_GROUP_STD_MAPPING
    ADD CONSTRAINT FK_STD_GRP_STD_MAP_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.STD_GROUP_STD_MAPPING
    ADD CONSTRAINT FK_STD_GRP_STD_MAP_STD_GR
    FOREIGN KEY (std_group_id)
    REFERENCES dbo.STD_GROUP (std_group_id)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINOR_VER_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINO_FK_STD_MI_ASSESSME
    FOREIGN KEY (assessment_type_code)
    REFERENCES dbo.ASSESSMENT_TYPE (assessment_type_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINO_FK_STD_MI_LANGUAG2
    FOREIGN KEY (alternate_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINO_FK_STD_MI_LANGUAGE
    FOREIGN KEY (primary_language_code)
    REFERENCES dbo.LANGUAGE (language_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINO_FK_STD_MI_LVL
    FOREIGN KEY (level_code)
    REFERENCES dbo.LVL (level_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MINO_FK_STD_MI_STD_GRAD
    FOREIGN KEY (std_grading_type_code)
    REFERENCES dbo.STD_GRADING_TYPE (std_grading_type_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MIN_VER_ACCRED_OPT
    FOREIGN KEY (accreditation_option_code)
    REFERENCES dbo.ACCREDITATION_OPTION_CODE (accreditation_option_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MIN_VER_CONTENT_TYP
    FOREIGN KEY (content_type_code)
    REFERENCES dbo.CONTENT_TYPE_CODE (content_type_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MIN_VER_CONTEXT_CODE
    FOREIGN KEY (context_type_code)
    REFERENCES dbo.CONTEXT_TYPE (context_type_code)
go
ALTER TABLE dbo.STD_MINOR_VERSION
    ADD CONSTRAINT FK_STD_MIN_VER_GRAD_SCHEME
    FOREIGN KEY (std_grading_scheme_code)
    REFERENCES dbo.STD_GRADING_SCHEME_CODE (std_grading_scheme_code)
go
ALTER TABLE dbo.STD_STATUS_HISTORY
    ADD CONSTRAINT FK_STD_STAT_FK_STD_ST_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.STD_STATUS_HISTORY
    ADD CONSTRAINT FK_STD_STAT_FK_STD_ST_STD_STAT
    FOREIGN KEY (std_status_code)
    REFERENCES dbo.STD_STATUS_CODE (std_status_code)
go
ALTER TABLE dbo.STD_TYPE_CODE
    ADD CONSTRAINT FK_STD_TYPE_FK_STD_TY_QUAL_SYS
    FOREIGN KEY (qs_code)
    REFERENCES dbo.QUAL_SYSTEM_FRAMEWORK (qs_code)
go
ALTER TABLE dbo.STD_TYPE_CODE
    ADD CONSTRAINT FK_STD_TYPE_QUAL_APP_STD_TYPE
    FOREIGN KEY (qual_app_std_type_code)
    REFERENCES dbo.QUAL_APP_STD_TYPE_CODE (qual_app_std_type_code)
go
ALTER TABLE dbo.STD_TYPE_OUTPUT
    ADD CONSTRAINT FK_STD_TYPE_OUTPUT_ASSESS
    FOREIGN KEY (assessment_type_code)
    REFERENCES dbo.ASSESSMENT_TYPE (assessment_type_code)
go
ALTER TABLE dbo.STD_TYPE_OUTPUT
    ADD CONSTRAINT FK_STD_TYPE_OUTPUT_OUT_TYPE
    FOREIGN KEY (output_type)
    REFERENCES dbo.OUTPUT_TYPE (output_type)
go
ALTER TABLE dbo.STD_TYPE_OUTPUT
    ADD CONSTRAINT FK_STD_TYPE_OUTPUT_STD_TYPE
    FOREIGN KEY (std_type_code)
    REFERENCES dbo.STD_TYPE_CODE (std_type_code)
go
ALTER TABLE dbo.STD_TYPE_OUTPUT
    ADD CONSTRAINT FK_STD_TYPE_OUTPUT_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VERS_PERORG_ROLE
    FOREIGN KEY (ssb_perorg_role_id)
    REFERENCES dbo.PERORG_ROLE (perorg_role_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VERS_STD
    FOREIGN KEY (std_id)
    REFERENCES dbo.STD (std_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_CFN_CATEGORY
    FOREIGN KEY (cfn_catg_id)
    REFERENCES dbo.CFN_CATEGORY (cfn_catg_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_LATEST_MINOR_VER
    FOREIGN KEY (latest_std_minor_version_id)
    REFERENCES dbo.STD_MINOR_VERSION (std_minor_version_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_LATEST_PUB_VER
    FOREIGN KEY (latest_pub_std_minor_ver_id)
    REFERENCES dbo.STD_MINOR_VERSION (std_minor_version_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_PROCESS_TYPE_CODE
    FOREIGN KEY (process_type_code)
    REFERENCES dbo.PROCESS_TYPE_CODE (process_type_code)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_PROP_STD_STATUS
    FOREIGN KEY (proposed_std_status_code)
    REFERENCES dbo.STD_STATUS_CODE (std_status_code)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_QUAL_APPLICATION
    FOREIGN KEY (qual_application_id)
    REFERENCES dbo.QUAL_APPLICATION (qual_application_id)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_STD_VER_STATUS
    FOREIGN KEY (std_version_status_code)
    REFERENCES dbo.STD_VERSION_STATUS_CODE (std_version_status_code)
go
ALTER TABLE dbo.STD_VERSION
    ADD CONSTRAINT FK_STD_VER_qa_event_code
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.STD_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_STD_VER_PUB_HIST_PUB_HIST
    FOREIGN KEY (qual_publication_code)
    REFERENCES dbo.QUAL_PUBLICATION_CODE (qual_publication_code)
go
ALTER TABLE dbo.STD_VERSION_PUB_HISTORY
    ADD CONSTRAINT FK_STD_VER_PUB_HIST_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_STD_VER_STAT_HIS_STD_VERS
    FOREIGN KEY (std_version_status_code)
    REFERENCES dbo.STD_VERSION_STATUS_CODE (std_version_status_code)
go
ALTER TABLE dbo.STD_VERSION_STATUS_HISTORY
    ADD CONSTRAINT FK_STD_VER_ST_HIS_STD_VERS
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_STD_VER_QA_EVT_STD_VER
    FOREIGN KEY (std_version_id)
    REFERENCES dbo.STD_VERSION (std_version_id)
go
ALTER TABLE dbo.STD_VER_QA_EVENT_HISTORY
    ADD CONSTRAINT FK_STD_VER_QA_EV_HIST_QA_EVENT
    FOREIGN KEY (qa_event_code)
    REFERENCES dbo.QA_EVENT_CODE (qa_event_code)
go
ALTER TABLE dbo.SUPP_RESULT_ALLOCATED
    ADD CONSTRAINT FK_ASR_ENTRY
    FOREIGN KEY (entry_id)
    REFERENCES dbo.ENTRY (entry_id)
go
ALTER TABLE dbo.SUPP_RESULT_ALLOCATED
    ADD CONSTRAINT FK_SUPP_RES_ALL_RES_COMP_LK
    FOREIGN KEY (result_component_link_id)
    REFERENCES dbo.RESULT_COMPONENT_LINK (result_component_link_id)
go
ALTER TABLE dbo.SUPP_RESULT_ALLOCATED
    ADD CONSTRAINT FK_SUP_ALLOC_RESULT_CODE
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.SUPP_RESULT_UNALLOCATED
    ADD CONSTRAINT FK_EX_USR_LEARNER_NSN
    FOREIGN KEY (nsn)
    REFERENCES dbo.LEARNER (nsn)
go
ALTER TABLE dbo.SUPP_RESULT_UNALLOCATED
    ADD CONSTRAINT FK_SUPP_RESULT_UNALLOCATED_STD
    FOREIGN KEY (std_number)
    REFERENCES dbo.STD (std_number)
go
ALTER TABLE dbo.SUPP_RESULT_UNALLOCATED
    ADD CONSTRAINT FK_SUPP_RES_UNALL_RES_COMP_LK
    FOREIGN KEY (result_component_link_id)
    REFERENCES dbo.RESULT_COMPONENT_LINK (result_component_link_id)
go
ALTER TABLE dbo.SUPP_RESULT_UNALLOCATED
    ADD CONSTRAINT FK_SUP_UNALLOC_RESULT_CODE
    FOREIGN KEY (result_code)
    REFERENCES dbo.RESULT_CODE (result_code)
go
ALTER TABLE dbo.SUPP_RESULT_UNALLOCATED
    ADD CONSTRAINT FK_USR_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.TE_REO_CIRCULAR
    ADD CONSTRAINT FK_TE_REO_CIRCULAR_ACAD_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
ALTER TABLE dbo.TE_REO_CIRCULAR
    ADD CONSTRAINT FK_TE_REO_CIRCULAR_PROV
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.TE_REO_INDICATION
    ADD CONSTRAINT FK_TE_REO_INDICATION_PROV
    FOREIGN KEY (provider_id)
    REFERENCES dbo.PROVIDER (provider_id)
go
ALTER TABLE dbo.TE_REO_INDICATION
    ADD CONSTRAINT FK_TE_REO_INDICATION_STD_VER
    FOREIGN KEY (std_number,std_version_number)
    REFERENCES dbo.STD_VERSION (std_number,std_version_number)
go
ALTER TABLE dbo.TE_REO_INDICATION
    ADD CONSTRAINT FK_TE_REO_IND_TE_REO_CIRCULAR
    FOREIGN KEY (te_reo_circular_id)
    REFERENCES dbo.TE_REO_CIRCULAR (te_reo_circular_id)
go
ALTER TABLE dbo.ZIM_PERSONALISATION_RUN
    ADD CONSTRAINT FK_ZIM_PER_RUN_STATUS
    FOREIGN KEY (personalization_run_status)
    REFERENCES dbo.PERSONALISATION_RUN_STATUS (personalisation_run_status)
go
ALTER TABLE dbo.ZIM_PERSONALISATION_RUN
    ADD CONSTRAINT FK_ZPR_ACADEMIC_YEAR
    FOREIGN KEY (academic_year)
    REFERENCES dbo.ACADEMIC_YEAR (academic_year)
go
